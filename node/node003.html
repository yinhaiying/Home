<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>海鹰斯坦的个人主页</title>
    <meta name="description" content="海鹰斯坦的个人主页">
    <meta name="generator" content="VuePress 1.4.0">
    
    
    <link rel="preload" href="/Home/assets/css/0.styles.e94f337b.css" as="style"><link rel="preload" href="/Home/assets/js/app.4e9de29e.js" as="script"><link rel="preload" href="/Home/assets/js/2.852f0768.js" as="script"><link rel="preload" href="/Home/assets/js/46.e4dd4809.js" as="script"><link rel="prefetch" href="/Home/assets/js/10.8473db2b.js"><link rel="prefetch" href="/Home/assets/js/11.b4241947.js"><link rel="prefetch" href="/Home/assets/js/12.b09a44ea.js"><link rel="prefetch" href="/Home/assets/js/13.d63114f0.js"><link rel="prefetch" href="/Home/assets/js/14.0b8be25b.js"><link rel="prefetch" href="/Home/assets/js/15.bd62ea79.js"><link rel="prefetch" href="/Home/assets/js/16.cc1ee14d.js"><link rel="prefetch" href="/Home/assets/js/17.1ef904c7.js"><link rel="prefetch" href="/Home/assets/js/18.e0a82910.js"><link rel="prefetch" href="/Home/assets/js/19.38d174c3.js"><link rel="prefetch" href="/Home/assets/js/20.aa3ff896.js"><link rel="prefetch" href="/Home/assets/js/21.c79e05d9.js"><link rel="prefetch" href="/Home/assets/js/22.da13ae6a.js"><link rel="prefetch" href="/Home/assets/js/23.78c92169.js"><link rel="prefetch" href="/Home/assets/js/24.94b7a7ff.js"><link rel="prefetch" href="/Home/assets/js/25.5b167e5d.js"><link rel="prefetch" href="/Home/assets/js/26.d3807609.js"><link rel="prefetch" href="/Home/assets/js/27.50f8fd8e.js"><link rel="prefetch" href="/Home/assets/js/28.69c4d2e9.js"><link rel="prefetch" href="/Home/assets/js/29.24a2de88.js"><link rel="prefetch" href="/Home/assets/js/3.ab36bc1f.js"><link rel="prefetch" href="/Home/assets/js/30.2c780612.js"><link rel="prefetch" href="/Home/assets/js/31.a3bef37b.js"><link rel="prefetch" href="/Home/assets/js/32.c42a9904.js"><link rel="prefetch" href="/Home/assets/js/33.2fba6d41.js"><link rel="prefetch" href="/Home/assets/js/34.76e04935.js"><link rel="prefetch" href="/Home/assets/js/35.00510acc.js"><link rel="prefetch" href="/Home/assets/js/36.62b6e63f.js"><link rel="prefetch" href="/Home/assets/js/37.42dd3af6.js"><link rel="prefetch" href="/Home/assets/js/38.ce73a544.js"><link rel="prefetch" href="/Home/assets/js/39.f02bc307.js"><link rel="prefetch" href="/Home/assets/js/4.3e212fe4.js"><link rel="prefetch" href="/Home/assets/js/40.5e347b91.js"><link rel="prefetch" href="/Home/assets/js/41.c4785cba.js"><link rel="prefetch" href="/Home/assets/js/42.7b055896.js"><link rel="prefetch" href="/Home/assets/js/43.38197c33.js"><link rel="prefetch" href="/Home/assets/js/44.bad3d004.js"><link rel="prefetch" href="/Home/assets/js/45.e1f5c336.js"><link rel="prefetch" href="/Home/assets/js/47.44cdcf1f.js"><link rel="prefetch" href="/Home/assets/js/48.6b0bcf94.js"><link rel="prefetch" href="/Home/assets/js/49.f84d8c11.js"><link rel="prefetch" href="/Home/assets/js/5.c75cc4d2.js"><link rel="prefetch" href="/Home/assets/js/50.62bd8e57.js"><link rel="prefetch" href="/Home/assets/js/51.b9cec1fc.js"><link rel="prefetch" href="/Home/assets/js/52.fc7f7a1a.js"><link rel="prefetch" href="/Home/assets/js/53.b13a962e.js"><link rel="prefetch" href="/Home/assets/js/54.ec6286b0.js"><link rel="prefetch" href="/Home/assets/js/55.7996b340.js"><link rel="prefetch" href="/Home/assets/js/56.97d6f2d9.js"><link rel="prefetch" href="/Home/assets/js/57.0df64cb1.js"><link rel="prefetch" href="/Home/assets/js/58.c30a5bea.js"><link rel="prefetch" href="/Home/assets/js/59.7c9a8b47.js"><link rel="prefetch" href="/Home/assets/js/6.b1439560.js"><link rel="prefetch" href="/Home/assets/js/60.fc89a25b.js"><link rel="prefetch" href="/Home/assets/js/61.3c3dc19e.js"><link rel="prefetch" href="/Home/assets/js/62.2970193a.js"><link rel="prefetch" href="/Home/assets/js/63.95bb274b.js"><link rel="prefetch" href="/Home/assets/js/64.f0d5cf0c.js"><link rel="prefetch" href="/Home/assets/js/65.d6318947.js"><link rel="prefetch" href="/Home/assets/js/66.8eff8ba2.js"><link rel="prefetch" href="/Home/assets/js/67.cfc67837.js"><link rel="prefetch" href="/Home/assets/js/68.2fa4de54.js"><link rel="prefetch" href="/Home/assets/js/69.f6ca426c.js"><link rel="prefetch" href="/Home/assets/js/7.f227c584.js"><link rel="prefetch" href="/Home/assets/js/70.6d1e6835.js"><link rel="prefetch" href="/Home/assets/js/8.f8a0efca.js"><link rel="prefetch" href="/Home/assets/js/9.2c44c2a4.js">
    <link rel="stylesheet" href="/Home/assets/css/0.styles.e94f337b.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/Home/" class="home-link router-link-active"><img src="/Home/assets/logo.jpg" alt="海鹰斯坦的个人主页" class="logo"> <span class="site-name can-hide">海鹰斯坦的个人主页</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/Home/" class="nav-link">
  主页
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="前端" class="dropdown-title"><span class="title">前端</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/Home/javascript/js/js001.html" class="nav-link">
  Javascript
</a></li><li class="dropdown-item"><!----> <a href="/Home/typescript/" class="nav-link">
  Typescript
</a></li><li class="dropdown-item"><!----> <a href="/Home/vue/vue001.html" class="nav-link">
  Vue
</a></li><li class="dropdown-item"><!----> <a href="/Home/react/react001.html" class="nav-link">
  React
</a></li><li class="dropdown-item"><!----> <a href="/Home/node/node001.html" class="nav-link">
  Node
</a></li><li class="dropdown-item"><!----> <a href="/Home/design-pattern/dm001.html" class="nav-link">
  设计模式
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="后端" class="dropdown-title"><span class="title">后端</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/Home/php/php001.html" class="nav-link">
  PHP
</a></li><li class="dropdown-item"><!----> <a href="/Home/mysql/mysql001.html" class="nav-link">
  MySQL
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="计算机基础" class="dropdown-title"><span class="title">计算机基础</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/Home/computer-net/" class="nav-link">
  计算机网络
</a></li><li class="dropdown-item"><!----> <a href="/Home/operate-system/" class="nav-link">
  操作系统
</a></li><li class="dropdown-item"><!----> <a href="/Home/data-structure/" class="nav-link">
  数据结构和算法
</a></li></ul></div></div><div class="nav-item"><a href="/Home/program/" class="nav-link">
  项目
</a></div><div class="nav-item"><a href="/Home/interview/" class="nav-link">
  面试
</a></div><div class="nav-item"><a href="/Home/leetcode/" class="nav-link">
  Leetcode
</a></div><div class="nav-item"><a href="/Home/tools/tools/tools001.html" class="nav-link">
  常用网站及工具
</a></div> <a href="https://github.com/yinhaiying/Home" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/Home/" class="nav-link">
  主页
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="前端" class="dropdown-title"><span class="title">前端</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/Home/javascript/js/js001.html" class="nav-link">
  Javascript
</a></li><li class="dropdown-item"><!----> <a href="/Home/typescript/" class="nav-link">
  Typescript
</a></li><li class="dropdown-item"><!----> <a href="/Home/vue/vue001.html" class="nav-link">
  Vue
</a></li><li class="dropdown-item"><!----> <a href="/Home/react/react001.html" class="nav-link">
  React
</a></li><li class="dropdown-item"><!----> <a href="/Home/node/node001.html" class="nav-link">
  Node
</a></li><li class="dropdown-item"><!----> <a href="/Home/design-pattern/dm001.html" class="nav-link">
  设计模式
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="后端" class="dropdown-title"><span class="title">后端</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/Home/php/php001.html" class="nav-link">
  PHP
</a></li><li class="dropdown-item"><!----> <a href="/Home/mysql/mysql001.html" class="nav-link">
  MySQL
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="计算机基础" class="dropdown-title"><span class="title">计算机基础</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/Home/computer-net/" class="nav-link">
  计算机网络
</a></li><li class="dropdown-item"><!----> <a href="/Home/operate-system/" class="nav-link">
  操作系统
</a></li><li class="dropdown-item"><!----> <a href="/Home/data-structure/" class="nav-link">
  数据结构和算法
</a></li></ul></div></div><div class="nav-item"><a href="/Home/program/" class="nav-link">
  项目
</a></div><div class="nav-item"><a href="/Home/interview/" class="nav-link">
  面试
</a></div><div class="nav-item"><a href="/Home/leetcode/" class="nav-link">
  Leetcode
</a></div><div class="nav-item"><a href="/Home/tools/tools/tools001.html" class="nav-link">
  常用网站及工具
</a></div> <a href="https://github.com/yinhaiying/Home" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav>  <ul class="sidebar-links"><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>Node</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/Home/node/node001.html" class="sidebar-link">【001】Node实现自定义命令行工具</a></li><li><a href="/Home/node/node002.html" class="sidebar-link">【002】socket.io初体验之简易聊天室</a></li><li><a href="/Home/node/node003.html" class="active sidebar-link">【003】Express核心之中间件</a></li><li><a href="/Home/node/node004.html" class="sidebar-link">【004】Express基础</a></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><section id="nice" data-tool="mdnice编辑器" data-website="https://www.mdnice.com" style="font-size:16px;color:black;padding:0 10px;line-height:1.6;word-spacing:0px;letter-spacing:0px;word-break:break-word;word-wrap:break-word;text-align:left;font-family:Optima-Regular, Optima, PingFangSC-light, PingFangTC-light, 'PingFang SC', Cambria, Cochin, Georgia, Times, 'Times New Roman', serif;margin-top:-10px;"><h1 data-tool="mdnice编辑器" style="margin-top:70px;margin-bottom:15px;padding:0px;font-weight:bold;color:black;font-size:24px;"><span class="prefix" style="display:none;"></span><span class="content">express核心之中间件</span><span class="suffix"></span></h1> <h2 data-tool="mdnice编辑器" style="margin-top:30px;margin-bottom:15px;padding:0px;font-weight:bold;color:black;border-bottom:2px solid rgb(239, 112, 96);font-size:1.3em;"><span class="prefix" style="display:none;"></span><span class="content" style="display:inline-block;font-weight:bold;background:rgb(239, 112, 96);color:#ffffff;padding:3px 10px 1px;border-top-right-radius:3px;border-top-left-radius:3px;margin-right:3px;">前言</span><span class="suffix"></span><span style="display:inline-block;vertical-align:bottom;border-bottom:36px solid #efebe9;border-right:20px solid transparent;"></span></h2> <p data-tool="mdnice编辑器" style="font-size:16px;padding-top:8px;padding-bottom:8px;margin:0;line-height:26px;color:black;">Express的官方描述是：一个基于Node.js平台的快速，开放，极简的web框架。这句话中有两个关键词：</p> <ol data-tool="mdnice编辑器" style="margin-top:8px;margin-bottom:8px;padding-left:25px;color:black;list-style-type:decimal;"><li><section style="margin-top:5px;margin-bottom:5px;line-height:26px;text-align:left;color:rgb(1,1,1);font-weight:500;">基于Node。说明Express的初衷就是为了拓展Node的功能，从而提高开发效率。</section></li><li><section style="margin-top:5px;margin-bottom:5px;line-height:26px;text-align:left;color:rgb(1,1,1);font-weight:500;">web框架。说明Express主要是为了更加方便处理HTTP请求和响应。</section></li></ol> <p data-tool="mdnice编辑器" style="font-size:16px;padding-top:8px;padding-bottom:8px;margin:0;line-height:26px;color:black;">总而言之，Express其实就是在Node内置的HTTP模块上构建了一层抽象，理论上所有Express能够实现的功能，
都可以通过Node来实现。相比于Node，Express具有的优势：</p> <ul data-tool="mdnice编辑器" style="margin-top:8px;margin-bottom:8px;padding-left:25px;color:black;list-style-type:disc;"><li><section style="margin-top:5px;margin-bottom:5px;line-height:26px;text-align:left;color:rgb(1,1,1);font-weight:500;">更加方便地处理HTTP请求与响应（对 request 和 response 对象方法进行了拓展。）</section></li><li><section style="margin-top:5px;margin-bottom:5px;line-height:26px;text-align:left;color:rgb(1,1,1);font-weight:500;">更加方便地连接数据库</section></li><li><section style="margin-top:5px;margin-bottom:5px;line-height:26px;text-align:left;color:rgb(1,1,1);font-weight:500;">更加方便的路由（路由语法糖）</section></li><li><section style="margin-top:5px;margin-bottom:5px;line-height:26px;text-align:left;color:rgb(1,1,1);font-weight:500;">更加方便地渲染模板（允许动态渲染和改变 HTML 内容，并且使用其他语言编写 HTML）</section></li></ul> <h2 data-tool="mdnice编辑器" style="margin-top:30px;margin-bottom:15px;padding:0px;font-weight:bold;color:black;border-bottom:2px solid rgb(239, 112, 96);font-size:1.3em;"><span class="prefix" style="display:none;"></span><span class="content" style="display:inline-block;font-weight:bold;background:rgb(239, 112, 96);color:#ffffff;padding:3px 10px 1px;border-top-right-radius:3px;border-top-left-radius:3px;margin-right:3px;">中间件</span><span class="suffix"></span><span style="display:inline-block;vertical-align:bottom;border-bottom:36px solid #efebe9;border-right:20px solid transparent;"></span></h2> <p data-tool="mdnice编辑器" style="font-size:16px;padding-top:8px;padding-bottom:8px;margin:0;line-height:26px;color:black;">中间件（Middleware） 是一个函数，它可以访问请求对象（request）, 响应对象（response）, 和 web 应用中处于请求-响应循环流程中的 next的变量。接下来我们先编写一个简单的express应用，看看究竟中间件是什么？</p> <pre data-tool="mdnice编辑器" class="custom" style="margin-top:10px;margin-bottom:10px;"><code class="hljs" style="overflow-x:auto;padding:16px;color:#383a42;background:#fafafa;display:-webkit-box;font-family:Operator Mono, Consolas, Monaco, Menlo, monospace;border-radius:0px;font-size:12px;-webkit-overflow-scrolling:touch;"><span class="hljs-keyword" style="color:#a626a4;line-height:26px;">const</span> express = <span class="hljs-built_in" style="color:#c18401;line-height:26px;">require</span>(<span class="hljs-string" style="color:#50a14f;line-height:26px;">'express'</span>);<br><span class="hljs-keyword" style="color:#a626a4;line-height:26px;">const</span> app = express();<br><br><span class="hljs-keyword" style="color:#a626a4;line-height:26px;">const</span> fn = <span class="hljs-function" style="line-height:26px;">(<span class="hljs-params" style="line-height:26px;">req, res, next</span>) =&gt;</span> {<br>  <span class="hljs-built_in" style="color:#c18401;line-height:26px;">console</span>.log(<span class="hljs-string" style="color:#50a14f;line-height:26px;">&quot;hello,world&quot;</span>);<br>};<br>app.use(fn)<br><span class="hljs-keyword" style="color:#a626a4;line-height:26px;">const</span> port = <span class="hljs-number" style="color:#986801;line-height:26px;">3000</span>;<br>app.listen(port,() =&gt; {<br>    <span class="hljs-built_in" style="color:#c18401;line-height:26px;">console</span>.log(<span class="hljs-string" style="color:#50a14f;line-height:26px;">`应用运行在<span class="hljs-subst" style="color:#e45649;line-height:26px;">${port}</span>端口`</span>);<br>})<br></code></pre> <p data-tool="mdnice编辑器" style="font-size:16px;padding-top:8px;padding-bottom:8px;margin:0;line-height:26px;color:black;">当我们访问localhost:3000时就会发现，打印出了函数fn中的hello,world。这里的函数fn就是一个中间件，app.use(fn)就是运行这个中间件，实现他的功能。事实上，整个Express的功能就是由中间件组成，中间件具有的功能包括：</p> <ol data-tool="mdnice编辑器" style="margin-top:8px;margin-bottom:8px;padding-left:25px;color:black;list-style-type:decimal;"><li><section style="margin-top:5px;margin-bottom:5px;line-height:26px;text-align:left;color:rgb(1,1,1);font-weight:500;">执行任何代码。如果没有主动中止，会一直执行所有的中间件。</section></li><li><section style="margin-top:5px;margin-bottom:5px;line-height:26px;text-align:left;color:rgb(1,1,1);font-weight:500;">调用堆栈中的下一个中间件。如果没有终结请求-响应循环，则必须调用 next() 方法将控制权交给下一个中间件。否则当前程序会被挂起</section></li><li><section style="margin-top:5px;margin-bottom:5px;line-height:26px;text-align:left;color:rgb(1,1,1);font-weight:500;">终结请求-响应循环。终结请求-响应循环后，之后的中间件不再执行。</section></li></ol> <p data-tool="mdnice编辑器" style="font-size:16px;padding-top:8px;padding-bottom:8px;margin:0;line-height:26px;color:black;">我们通过代码看一下中间件的这些功能：</p> <pre data-tool="mdnice编辑器" class="custom" style="margin-top:10px;margin-bottom:10px;"><code class="hljs" style="overflow-x:auto;padding:16px;color:#383a42;background:#fafafa;display:-webkit-box;font-family:Operator Mono, Consolas, Monaco, Menlo, monospace;border-radius:0px;font-size:12px;-webkit-overflow-scrolling:touch;"><span class="hljs-keyword" style="color:#a626a4;line-height:26px;">const</span> express = <span class="hljs-built_in" style="color:#c18401;line-height:26px;">require</span>(<span class="hljs-string" style="color:#50a14f;line-height:26px;">'express'</span>);<br><span class="hljs-keyword" style="color:#a626a4;line-height:26px;">const</span> app = express();<br><span class="hljs-comment" style="color:#a0a1a7;font-style:italic;line-height:26px;">// 第一个中间件</span><br>app.use(<span class="hljs-function" style="line-height:26px;">(<span class="hljs-params" style="line-height:26px;">req, res, next</span>) =&gt;</span> {<br>  <span class="hljs-built_in" style="color:#c18401;line-height:26px;">console</span>.log(<span class="hljs-string" style="color:#50a14f;line-height:26px;">&quot;中间件1&quot;</span>);<br>  next();<span class="hljs-comment" style="color:#a0a1a7;font-style:italic;line-height:26px;">// 如果没有next则会被挂起</span><br>})<br><span class="hljs-comment" style="color:#a0a1a7;font-style:italic;line-height:26px;">// 第二个中间件</span><br>app.use(<span class="hljs-function" style="line-height:26px;">(<span class="hljs-params" style="line-height:26px;">req, res, next</span>) =&gt;</span> {<br>  <span class="hljs-built_in" style="color:#c18401;line-height:26px;">console</span>.log(<span class="hljs-string" style="color:#50a14f;line-height:26px;">&quot;中间件2&quot;</span>);   <span class="hljs-comment" style="color:#a0a1a7;font-style:italic;line-height:26px;">//继续执行第二个中间件</span><br>  next();<br>})<br><span class="hljs-comment" style="color:#a0a1a7;font-style:italic;line-height:26px;">// 第三个中间件</span><br>app.use(<span class="hljs-function" style="line-height:26px;">(<span class="hljs-params" style="line-height:26px;">req, res, next</span>) =&gt;</span> {<br>  <span class="hljs-built_in" style="color:#c18401;line-height:26px;">console</span>.log(<span class="hljs-string" style="color:#50a14f;line-height:26px;">&quot;中间件3&quot;</span>);<br>  res.send(<span class="hljs-string" style="color:#50a14f;line-height:26px;">'hello'</span>);       <span class="hljs-comment" style="color:#a0a1a7;font-style:italic;line-height:26px;">// 终结请求-响应循环</span><br>})<br><span class="hljs-comment" style="color:#a0a1a7;font-style:italic;line-height:26px;">// 第四个中间件</span><br>app.use(<span class="hljs-function" style="line-height:26px;">(<span class="hljs-params" style="line-height:26px;">req, res, next</span>) =&gt;</span> {<br>  <span class="hljs-built_in" style="color:#c18401;line-height:26px;">console</span>.log(<span class="hljs-string" style="color:#50a14f;line-height:26px;">&quot;中间件4&quot;</span>);   <span class="hljs-comment" style="color:#a0a1a7;font-style:italic;line-height:26px;">// 中介后的中间件不再执行</span><br>});<br><span class="hljs-keyword" style="color:#a626a4;line-height:26px;">const</span> port = <span class="hljs-number" style="color:#986801;line-height:26px;">3000</span>;<br>app.listen(port,() =&gt; {<br>    <span class="hljs-built_in" style="color:#c18401;line-height:26px;">console</span>.log(<span class="hljs-string" style="color:#50a14f;line-height:26px;">`应用运行在<span class="hljs-subst" style="color:#e45649;line-height:26px;">${port}</span>端口`</span>);<br>})<br></code></pre> <p data-tool="mdnice编辑器" style="font-size:16px;padding-top:8px;padding-bottom:8px;margin:0;line-height:26px;color:black;">最终的输出结果为：<code style="font-size:14px;word-wrap:break-word;padding:2px 4px;border-radius:4px;margin:0 2px;background-color:rgba(27,31,35,.05);font-family:Operator Mono, Consolas, Monaco, Menlo, monospace;word-break:break-all;color:rgb(239, 112, 96);">中间件1，中间件2，中间件3</code>。从上面的代码中我们可以知道，如果没有中止请求-响应循环，会执行所有的中间件；如果不是最后一个中止的中间件，必须执行next()。
我们看一下express中间件的模型：
<img src="https://imgkr.cn-bj.ufileos.com/98719956-afcd-4f55-9a8c-31ea3d01a8d7.png" alt="" style="display:block;margin:0 auto;max-width:100%;">
从上面的编程模型，我们可以看出每一个<strong style="font-weight:bold;color:black;">中间件</strong>就是插入到请求开始和响应结束<strong style="font-weight:bold;color:black;">中间</strong>的东西，这也是中间件名字的由来。</p> <h3 data-tool="mdnice编辑器" style="margin-top:30px;margin-bottom:15px;padding:0px;font-weight:bold;color:black;font-size:20px;"><span class="prefix" style="display:none;"></span><span class="content">中间件的优点——模块化</span><span class="suffix" style="display:none;"></span></h3> <p data-tool="mdnice编辑器" style="font-size:16px;padding-top:8px;padding-bottom:8px;margin:0;line-height:26px;color:black;">中间件的最大优点就是模块化，每一个中间件是一个独立的函数，实现一个特定的功能，然后通过app.sue将这个函数整合起来。抽离出来就是一个单独的模块。比如，我们要实现一个功能，获取当前请求的url,那么我们就可以将这个功能，封装成一个中间件。</p> <pre data-tool="mdnice编辑器" class="custom" style="margin-top:10px;margin-bottom:10px;"><code class="hljs" style="overflow-x:auto;padding:16px;color:#383a42;background:#fafafa;display:-webkit-box;font-family:Operator Mono, Consolas, Monaco, Menlo, monospace;border-radius:0px;font-size:12px;-webkit-overflow-scrolling:touch;"><span class="hljs-comment" style="color:#a0a1a7;font-style:italic;line-height:26px;">//实现获取url的模块,封装成中间件</span><br><span class="hljs-keyword" style="color:#a626a4;line-height:26px;">const</span> fn = <span class="hljs-function" style="line-height:26px;">(<span class="hljs-params" style="line-height:26px;">req, res, next</span>) =&gt;</span> {<br>  <span class="hljs-keyword" style="color:#a626a4;line-height:26px;">const</span> url = req.url;<br>  <span class="hljs-built_in" style="color:#c18401;line-height:26px;">console</span>.log(url);<br>  next();<br>};<br><br>app.use(fn);<br><br><span class="hljs-keyword" style="color:#a626a4;line-height:26px;">const</span> port = <span class="hljs-number" style="color:#986801;line-height:26px;">3000</span>;<br>app.listen(port,() =&gt; {<br>    <span class="hljs-built_in" style="color:#c18401;line-height:26px;">console</span>.log(<span class="hljs-string" style="color:#50a14f;line-height:26px;">`应用运行在<span class="hljs-subst" style="color:#e45649;line-height:26px;">${port}</span>端口`</span>);<br>})<br></code></pre> <h2 data-tool="mdnice编辑器" style="margin-top:30px;margin-bottom:15px;padding:0px;font-weight:bold;color:black;border-bottom:2px solid rgb(239, 112, 96);font-size:1.3em;"><span class="prefix" style="display:none;"></span><span class="content" style="display:inline-block;font-weight:bold;background:rgb(239, 112, 96);color:#ffffff;padding:3px 10px 1px;border-top-right-radius:3px;border-top-left-radius:3px;margin-right:3px;">中间件的分类</span><span class="suffix"></span><span style="display:inline-block;vertical-align:bottom;border-bottom:36px solid #efebe9;border-right:20px solid transparent;"></span></h2> <p data-tool="mdnice编辑器" style="font-size:16px;padding-top:8px;padding-bottom:8px;margin:0;line-height:26px;color:black;">Express中的中间件，根据作用范围大致可以分为应用级中间件和路由级中间件。事实上中间件的分类并没有特别明显的区别。</p> <ul data-tool="mdnice编辑器" style="margin-top:8px;margin-bottom:8px;padding-left:25px;color:black;list-style-type:disc;"><li><section style="margin-top:5px;margin-bottom:5px;line-height:26px;text-align:left;color:rgb(1,1,1);font-weight:500;">应用级中间件 app.use()以及它的一些语法糖中使用的中间件</section></li><li><section style="margin-top:5px;margin-bottom:5px;line-height:26px;text-align:left;color:rgb(1,1,1);font-weight:500;">路由级中间件 router.use(),以及它的一些语法糖中使用的中间件</section></li></ul> <h3 data-tool="mdnice编辑器" style="margin-top:30px;margin-bottom:15px;padding:0px;font-weight:bold;color:black;font-size:20px;"><span class="prefix" style="display:none;"></span><span class="content">应用级中间件</span><span class="suffix" style="display:none;"></span></h3> <p data-tool="mdnice编辑器" style="font-size:16px;padding-top:8px;padding-bottom:8px;margin:0;line-height:26px;color:black;">应用级中间件主要是通过app.use()，以及它的一些语法糖中应用的中间件。</p> <pre data-tool="mdnice编辑器" class="custom" style="margin-top:10px;margin-bottom:10px;"><code class="hljs" style="overflow-x:auto;padding:16px;color:#383a42;background:#fafafa;display:-webkit-box;font-family:Operator Mono, Consolas, Monaco, Menlo, monospace;border-radius:0px;font-size:12px;-webkit-overflow-scrolling:touch;"><span class="hljs-keyword" style="color:#a626a4;line-height:26px;">const</span> express = <span class="hljs-built_in" style="color:#c18401;line-height:26px;">require</span>(<span class="hljs-string" style="color:#50a14f;line-height:26px;">'express'</span>);<br><span class="hljs-keyword" style="color:#a626a4;line-height:26px;">const</span> app = express();<br><span class="hljs-comment" style="color:#a0a1a7;font-style:italic;line-height:26px;">//  应用级中间件</span><br>app.use(<span class="hljs-function" style="line-height:26px;">(<span class="hljs-params" style="line-height:26px;">req, res, next</span>) =&gt;</span> {<br>  <span class="hljs-keyword" style="color:#a626a4;line-height:26px;">const</span> url = req.url;<br>  next();<br>});<br><br><span class="hljs-comment" style="color:#a0a1a7;font-style:italic;line-height:26px;">//  应用级中间件</span><br>app.get(<span class="hljs-string" style="color:#50a14f;line-height:26px;">'/user'</span>,(req,res) =&gt; {<br>  res.send(<span class="hljs-string" style="color:#50a14f;line-height:26px;">'应用级中间件'</span>);<br>})<br><span class="hljs-keyword" style="color:#a626a4;line-height:26px;">const</span> port = <span class="hljs-number" style="color:#986801;line-height:26px;">3000</span>;<br>app.listen(port,() =&gt; {<br>    <span class="hljs-built_in" style="color:#c18401;line-height:26px;">console</span>.log(<span class="hljs-string" style="color:#50a14f;line-height:26px;">`应用运行在<span class="hljs-subst" style="color:#e45649;line-height:26px;">${port}</span>端口`</span>);<br>})<br></code></pre> <p data-tool="mdnice编辑器" style="font-size:16px;padding-top:8px;padding-bottom:8px;margin:0;line-height:26px;color:black;">上面的代码中，我们调用了两个中间件，一个是app.use()直接调用的中间件，另外一个是app.use的语法糖app.get()执行的中间件，为什么说app.get()是app.use()的语法糖，因为app.get能够实现的方法使用app.use都能够实现。我们试着将上面app.get的中间件用app.use实现。</p> <pre data-tool="mdnice编辑器" class="custom" style="margin-top:10px;margin-bottom:10px;"><code class="hljs" style="overflow-x:auto;padding:16px;color:#383a42;background:#fafafa;display:-webkit-box;font-family:Operator Mono, Consolas, Monaco, Menlo, monospace;border-radius:0px;font-size:12px;-webkit-overflow-scrolling:touch;">app.use(<span class="hljs-function" style="line-height:26px;">(<span class="hljs-params" style="line-height:26px;">req,res,next</span>) =&gt;</span> {<br>  <span class="hljs-built_in" style="color:#c18401;line-height:26px;">console</span>.log(req.path)<br>  <span class="hljs-keyword" style="color:#a626a4;line-height:26px;">if</span>(req.method === <span class="hljs-string" style="color:#50a14f;line-height:26px;">&quot;GET&quot;</span> &amp;&amp; req.path == <span class="hljs-string" style="color:#50a14f;line-height:26px;">'/users'</span>){<br>    res.send(<span class="hljs-string" style="color:#50a14f;line-height:26px;">'使用app.use实现的中间件'</span>);<br>  }<br>})<br><span class="hljs-comment" style="color:#a0a1a7;font-style:italic;line-height:26px;">// 功能上等价于</span><br>app.get(<span class="hljs-string" style="color:#50a14f;line-height:26px;">'/user'</span>,(req,res) =&gt; {<br>  res.send(<span class="hljs-string" style="color:#50a14f;line-height:26px;">'应用级中间件'</span>);<br>})<br></code></pre> <h3 data-tool="mdnice编辑器" style="margin-top:30px;margin-bottom:15px;padding:0px;font-weight:bold;color:black;font-size:20px;"><span class="prefix" style="display:none;"></span><span class="content">路由级中间件</span><span class="suffix" style="display:none;"></span></h3> <pre data-tool="mdnice编辑器" class="custom" style="margin-top:10px;margin-bottom:10px;"><code class="hljs" style="overflow-x:auto;padding:16px;color:#383a42;background:#fafafa;display:-webkit-box;font-family:Operator Mono, Consolas, Monaco, Menlo, monospace;border-radius:0px;font-size:12px;-webkit-overflow-scrolling:touch;"><span class="hljs-keyword" style="color:#a626a4;line-height:26px;">const</span> express = <span class="hljs-built_in" style="color:#c18401;line-height:26px;">require</span>(<span class="hljs-string" style="color:#50a14f;line-height:26px;">'express'</span>);<br><span class="hljs-keyword" style="color:#a626a4;line-height:26px;">const</span> app = express();<br><br><span class="hljs-comment" style="color:#a0a1a7;font-style:italic;line-height:26px;">// 定义一个路由</span><br><span class="hljs-keyword" style="color:#a626a4;line-height:26px;">const</span> user = express.Router();<br>user.use(<span class="hljs-string" style="color:#50a14f;line-height:26px;">&quot;/&quot;</span>, (req, res) =&gt; {<br>  res.send(<span class="hljs-string" style="color:#50a14f;line-height:26px;">&quot;user.use&quot;</span>);<br>});<br>user.get(<span class="hljs-string" style="color:#50a14f;line-height:26px;">&quot;/user&quot;</span>, (req, res) =&gt; {<br>  res.send(<span class="hljs-string" style="color:#50a14f;line-height:26px;">&quot;路由级别中间件&quot;</span>);<br>});<br>user.get(<span class="hljs-string" style="color:#50a14f;line-height:26px;">&quot;/blog&quot;</span>, (req, res) =&gt; {<br>  res.send(<span class="hljs-string" style="color:#50a14f;line-height:26px;">&quot;路由级中间件&quot;</span>);<br>});<br><br><span class="hljs-keyword" style="color:#a626a4;line-height:26px;">const</span> port = <span class="hljs-number" style="color:#986801;line-height:26px;">3000</span>;<br>app.listen(port,() =&gt; {<br>    <span class="hljs-built_in" style="color:#c18401;line-height:26px;">console</span>.log(<span class="hljs-string" style="color:#50a14f;line-height:26px;">`应用运行在<span class="hljs-subst" style="color:#e45649;line-height:26px;">${port}</span>端口`</span>);<br>})<br><br></code></pre> <p data-tool="mdnice编辑器" style="font-size:16px;padding-top:8px;padding-bottom:8px;margin:0;line-height:26px;color:black;">路由级中间件是通过使用express内置的Router生成一个小应用，这个应用跟app具有相同的功能，只不过它主要的功能是用来实现路由。
这种路由功能可以很方便地帮助我们进行路由模块化开发。我们可以将相关的路由弄到同一个模块当中。比如上面的user和blog路由可以抽成
user子路由模块和blog子路由模块。示例如下：</p> <pre data-tool="mdnice编辑器" class="custom" style="margin-top:10px;margin-bottom:10px;"><code class="hljs" style="overflow-x:auto;padding:16px;color:#383a42;background:#fafafa;display:-webkit-box;font-family:Operator Mono, Consolas, Monaco, Menlo, monospace;border-radius:0px;font-size:12px;-webkit-overflow-scrolling:touch;"><span class="hljs-keyword" style="color:#a626a4;line-height:26px;">const</span> express = <span class="hljs-built_in" style="color:#c18401;line-height:26px;">require</span>(<span class="hljs-string" style="color:#50a14f;line-height:26px;">'express'</span>);<br><span class="hljs-keyword" style="color:#a626a4;line-height:26px;">const</span> app = express();<br><br><span class="hljs-keyword" style="color:#a626a4;line-height:26px;">const</span> user = <span class="hljs-built_in" style="color:#c18401;line-height:26px;">require</span>(<span class="hljs-string" style="color:#50a14f;line-height:26px;">'./routes/user.js'</span>);<br><span class="hljs-keyword" style="color:#a626a4;line-height:26px;">const</span> blog = <span class="hljs-built_in" style="color:#c18401;line-height:26px;">require</span>(<span class="hljs-string" style="color:#50a14f;line-height:26px;">'./routes/blog.js'</span>);<br><span class="hljs-comment" style="color:#a0a1a7;font-style:italic;line-height:26px;">// 抽离子路由</span><br>app.use(<span class="hljs-string" style="color:#50a14f;line-height:26px;">'/user'</span>,user);<br>app.use(<span class="hljs-string" style="color:#50a14f;line-height:26px;">'/blog'</span>,blog);<br><span class="hljs-keyword" style="color:#a626a4;line-height:26px;">const</span> port = <span class="hljs-number" style="color:#986801;line-height:26px;">3000</span>;<br>app.listen(port,() =&gt; {<br>    <span class="hljs-built_in" style="color:#c18401;line-height:26px;">console</span>.log(<span class="hljs-string" style="color:#50a14f;line-height:26px;">`应用运行在<span class="hljs-subst" style="color:#e45649;line-height:26px;">${port}</span>端口`</span>);<br>})<br></code></pre> <p data-tool="mdnice编辑器" style="font-size:16px;padding-top:8px;padding-bottom:8px;margin:0;line-height:26px;color:black;">之后只要路径是/user的都会交给user这个子路由去处理。子路由user.js中代码如下：</p> <pre data-tool="mdnice编辑器" class="custom" style="margin-top:10px;margin-bottom:10px;"><code class="hljs" style="overflow-x:auto;padding:16px;color:#383a42;background:#fafafa;display:-webkit-box;font-family:Operator Mono, Consolas, Monaco, Menlo, monospace;border-radius:0px;font-size:12px;-webkit-overflow-scrolling:touch;"><span class="hljs-keyword" style="color:#a626a4;line-height:26px;">const</span> express = <span class="hljs-built_in" style="color:#c18401;line-height:26px;">require</span>(<span class="hljs-string" style="color:#50a14f;line-height:26px;">'express'</span>);<br><br><span class="hljs-keyword" style="color:#a626a4;line-height:26px;">const</span> router = express.Router();<br>router.get(<span class="hljs-string" style="color:#50a14f;line-height:26px;">'/'</span>,(req,res) =&gt; {<br>    res.send(<span class="hljs-string" style="color:#50a14f;line-height:26px;">'这里是user路由'</span>);<br>})<br><span class="hljs-built_in" style="color:#c18401;line-height:26px;">module</span>.exports = router;<br></code></pre> <h2 data-tool="mdnice编辑器" style="margin-top:30px;margin-bottom:15px;padding:0px;font-weight:bold;color:black;border-bottom:2px solid rgb(239, 112, 96);font-size:1.3em;"><span class="prefix" style="display:none;"></span><span class="content" style="display:inline-block;font-weight:bold;background:rgb(239, 112, 96);color:#ffffff;padding:3px 10px 1px;border-top-right-radius:3px;border-top-left-radius:3px;margin-right:3px;">开发中间件</span><span class="suffix"></span><span style="display:inline-block;vertical-align:bottom;border-bottom:36px solid #efebe9;border-right:20px solid transparent;"></span></h2> <p data-tool="mdnice编辑器" style="font-size:16px;padding-top:8px;padding-bottom:8px;margin:0;line-height:26px;color:black;">在上面的讲述中，我们知道中间件是一个函数，它是嵌入到一个请求和响应循环中的一个独立的功能块。函数的参数是req,res,next。因此编写一个中间件就显得很简单了。相当于编写一个函数，参数为req,res,next。</p> <pre data-tool="mdnice编辑器" class="custom" style="margin-top:10px;margin-bottom:10px;"><code class="hljs" style="overflow-x:auto;padding:16px;color:#383a42;background:#fafafa;display:-webkit-box;font-family:Operator Mono, Consolas, Monaco, Menlo, monospace;border-radius:0px;font-size:12px;-webkit-overflow-scrolling:touch;"><span class="hljs-comment" style="color:#a0a1a7;font-style:italic;line-height:26px;">// 定义</span><br><span class="hljs-keyword" style="color:#a626a4;line-height:26px;">const</span> getUrl = <span class="hljs-function" style="line-height:26px;">(<span class="hljs-params" style="line-height:26px;">req,res,next</span>) =&gt;</span> {<br>    <span class="hljs-built_in" style="color:#c18401;line-height:26px;">console</span>.log(req.url);<br>    next();<br>}<br><span class="hljs-comment" style="color:#a0a1a7;font-style:italic;line-height:26px;">// 使用</span><br>app.use(getUrl)<br></code></pre> <p data-tool="mdnice编辑器" style="font-size:16px;padding-top:8px;padding-bottom:8px;margin:0;line-height:26px;color:black;">从上面的代码我们可以看出，开发一个中间件就是编写一个函数。但是有时候为了能够配置一些参数，我们通常是返回一个函数，比如这样:</p> <pre data-tool="mdnice编辑器" class="custom" style="margin-top:10px;margin-bottom:10px;"><code class="hljs" style="overflow-x:auto;padding:16px;color:#383a42;background:#fafafa;display:-webkit-box;font-family:Operator Mono, Consolas, Monaco, Menlo, monospace;border-radius:0px;font-size:12px;-webkit-overflow-scrolling:touch;"><span class="hljs-keyword" style="color:#a626a4;line-height:26px;">const</span> getUrl2 = <span class="hljs-function" style="line-height:26px;">(<span class="hljs-params" style="line-height:26px;">options</span>) =&gt;</span> {<br>    <span class="hljs-keyword" style="color:#a626a4;line-height:26px;">return</span> <span class="hljs-function" style="line-height:26px;"><span class="hljs-params" style="line-height:26px;">()</span> =&gt;</span> {<br>      <span class="hljs-built_in" style="color:#c18401;line-height:26px;">console</span>.log(<span class="hljs-string" style="color:#50a14f;line-height:26px;">`<span class="hljs-subst" style="color:#e45649;line-height:26px;">${options.pre}</span>+req.url`</span>);<br>      next();<br>    }<br>}<br>app.use(getUrl2({<span class="hljs-attr" style="color:#986801;line-height:26px;">pre</span>:<span class="hljs-string" style="color:#50a14f;line-height:26px;">'url:'</span>}))<br></code></pre> <p data-tool="mdnice编辑器" style="font-size:16px;padding-top:8px;padding-bottom:8px;margin:0;line-height:26px;color:black;">这样的话，就需要app.use(getUrl())这样执行了。这就是为什么我们经常看到app.use(bodyParser())这样的使用方法了。实际上返回的还是一个函数，只是为了方便配置参数罢了。</p> <h2 data-tool="mdnice编辑器" style="margin-top:30px;margin-bottom:15px;padding:0px;font-weight:bold;color:black;border-bottom:2px solid rgb(239, 112, 96);font-size:1.3em;"><span class="prefix" style="display:none;"></span><span class="content" style="display:inline-block;font-weight:bold;background:rgb(239, 112, 96);color:#ffffff;padding:3px 10px 1px;border-top-right-radius:3px;border-top-left-radius:3px;margin-right:3px;">常用中间件</span><span class="suffix"></span><span style="display:inline-block;vertical-align:bottom;border-bottom:36px solid #efebe9;border-right:20px solid transparent;"></span></h2> <p data-tool="mdnice编辑器" style="font-size:16px;padding-top:8px;padding-bottom:8px;margin:0;line-height:26px;color:black;">最后我们例举一些express常用的中间件</p> <ul data-tool="mdnice编辑器" style="margin-top:8px;margin-bottom:8px;padding-left:25px;color:black;list-style-type:disc;"><li><section style="margin-top:5px;margin-bottom:5px;line-height:26px;text-align:left;color:rgb(1,1,1);font-weight:500;">express.static express自带的中间件，用于访问静态文件</section></li><li><section style="margin-top:5px;margin-bottom:5px;line-height:26px;text-align:left;color:rgb(1,1,1);font-weight:500;">body-parser 第三方中间件，用于解析post数据</section></li><li><section style="margin-top:5px;margin-bottom:5px;line-height:26px;text-align:left;color:rgb(1,1,1);font-weight:500;">cookie-parser 第三方中间件，用于处理cookie</section></li><li><section style="margin-top:5px;margin-bottom:5px;line-height:26px;text-align:left;color:rgb(1,1,1);font-weight:500;">cookie-session 第三方中间件，用于处理session</section></li><li><section style="margin-top:5px;margin-bottom:5px;line-height:26px;text-align:left;color:rgb(1,1,1);font-weight:500;">bcrypt 第三方中间件，用于加密</section></li><li><section style="margin-top:5px;margin-bottom:5px;line-height:26px;text-align:left;color:rgb(1,1,1);font-weight:500;">passport 第三方中间件，用于鉴权</section></li><li><section style="margin-top:5px;margin-bottom:5px;line-height:26px;text-align:left;color:rgb(1,1,1);font-weight:500;">passport-jwt 第三方中间件，用于jwt鉴权</section></li></ul> <h2 data-tool="mdnice编辑器" style="margin-top:30px;margin-bottom:15px;padding:0px;font-weight:bold;color:black;border-bottom:2px solid rgb(239, 112, 96);font-size:1.3em;"><span class="prefix" style="display:none;"></span><span class="content" style="display:inline-block;font-weight:bold;background:rgb(239, 112, 96);color:#ffffff;padding:3px 10px 1px;border-top-right-radius:3px;border-top-left-radius:3px;margin-right:3px;">总结</span><span class="suffix"></span><span style="display:inline-block;vertical-align:bottom;border-bottom:36px solid #efebe9;border-right:20px solid transparent;"></span></h2> <p data-tool="mdnice编辑器" style="font-size:16px;padding-top:8px;padding-bottom:8px;margin:0;line-height:26px;color:black;">到目前为止，我们详细介绍了Express的核心中间件，从中间件的详细理解到中间件的分类和使用，以及中间件的编写，最后列举了一些常见的中间件。通过本文我们基本上就能够掌握Express的核心功能了，其他的Express的API都是中间件的使用罢了。</p></section></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/Home/node/node002.html" class="prev">
        【002】socket.io初体验之简易聊天室
      </a></span> <span class="next"><a href="/Home/node/node004.html">
        【004】Express基础
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/Home/assets/js/app.4e9de29e.js" defer></script><script src="/Home/assets/js/2.852f0768.js" defer></script><script src="/Home/assets/js/46.e4dd4809.js" defer></script>
  </body>
</html>
