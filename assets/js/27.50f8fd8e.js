(window.webpackJsonp=window.webpackJsonp||[]).push([[27],{276:function(t,a,s){"use strict";s.r(a);var i=s(28),l=Object(i.a)({},(function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("section",{staticStyle:{"font-size":"16px",color:"black",padding:"0 10px","line-height":"1.6","word-spacing":"0px","letter-spacing":"0px","word-break":"break-word","word-wrap":"break-word","text-align":"left","font-family":"Optima-Regular, Optima, PingFangSC-light, PingFangTC-light, 'PingFang SC', Cambria, Cochin, Georgia, Times, 'Times New Roman', serif","margin-top":"-10px"},attrs:{id:"nice","data-tool":"mdnice编辑器","data-website":"https://www.mdnice.com"}},[s("h1",{staticStyle:{"margin-top":"30px","margin-bottom":"15px",padding:"0px","font-weight":"bold",color:"black","font-size":"24px"},attrs:{"data-tool":"mdnice编辑器"}},[s("span",{staticClass:"prefix",staticStyle:{display:"none"}}),s("span",{staticClass:"content"},[t._v("基于原生js实现滑块验证思考组件的封装")]),s("span",{staticClass:"suffix"})]),t._v(" "),s("h2",{staticStyle:{"margin-top":"30px","margin-bottom":"15px",padding:"0px","font-weight":"bold",color:"black","border-bottom":"2px solid rgb(239, 112, 96)","font-size":"1.3em"},attrs:{"data-tool":"mdnice编辑器"}},[s("span",{staticClass:"prefix",staticStyle:{display:"none"}}),s("span",{staticClass:"content",staticStyle:{display:"inline-block","font-weight":"bold",background:"rgb(239, 112, 96)",color:"#ffffff",padding:"3px 10px 1px","border-top-right-radius":"3px","border-top-left-radius":"3px","margin-right":"3px"}},[t._v("前言")]),s("span",{staticClass:"suffix"}),s("span",{staticStyle:{display:"inline-block","vertical-align":"bottom","border-bottom":"36px solid #efebe9","border-right":"20px solid transparent"}})]),t._v(" "),s("p",{staticStyle:{"font-size":"16px","padding-top":"8px","padding-bottom":"8px",margin:"0","line-height":"26px",color:"black"},attrs:{"data-tool":"mdnice编辑器"}},[t._v("本文具体的代码实现转载自"),s("code",{staticStyle:{"font-size":"14px","word-wrap":"break-word",padding:"2px 4px","border-radius":"4px",margin:"0 2px","background-color":"rgba(27,31,35,.05)","font-family":"Operator Mono, Consolas, Monaco, Menlo, monospace","word-break":"break-all",color:"rgb(239, 112, 96)"}},[t._v("_release")]),t._v("的"),s("a",{staticStyle:{"text-decoration":"none","word-wrap":"break-word","font-weight":"bold",color:"rgb(239, 112, 96)","border-bottom":"1px solid rgb(239, 112, 96)"},attrs:{href:"https://juejin.im/post/5ed37a73e51d45788c739784?utm_source=gold_browser_extension#heading-0"}},[t._v("原生JS封装拖动验证滑块你会吗？")]),t._v("，大部分的代码实现来自原作者，本人基于原作者的实现加入了一些自己的思考，总结了一下封装一个组件常见的思路。")]),t._v(" "),s("h2",{staticStyle:{"margin-top":"30px","margin-bottom":"15px",padding:"0px","font-weight":"bold",color:"black","border-bottom":"2px solid rgb(239, 112, 96)","font-size":"1.3em"},attrs:{"data-tool":"mdnice编辑器"}},[s("span",{staticClass:"prefix",staticStyle:{display:"none"}}),s("span",{staticClass:"content",staticStyle:{display:"inline-block","font-weight":"bold",background:"rgb(239, 112, 96)",color:"#ffffff",padding:"3px 10px 1px","border-top-right-radius":"3px","border-top-left-radius":"3px","margin-right":"3px"}},[t._v("预览效果")]),s("span",{staticClass:"suffix"}),s("span",{staticStyle:{display:"inline-block","vertical-align":"bottom","border-bottom":"36px solid #efebe9","border-right":"20px solid transparent"}})]),t._v(" "),s("figure",{staticStyle:{margin:"0","margin-top":"10px","margin-bottom":"10px"},attrs:{"data-tool":"mdnice编辑器"}},[s("img",{staticStyle:{display:"block",margin:"0 auto","max-width":"100%"},attrs:{src:"https://imgkr.cn-bj.ufileos.com/159bdf1c-b2eb-4a94-82b7-197c05530b02.gif",alt:""}})]),t._v(" "),s("h2",{staticStyle:{"margin-top":"30px","margin-bottom":"15px",padding:"0px","font-weight":"bold",color:"black","border-bottom":"2px solid rgb(239, 112, 96)","font-size":"1.3em"},attrs:{"data-tool":"mdnice编辑器"}},[s("span",{staticClass:"prefix",staticStyle:{display:"none"}}),s("span",{staticClass:"content",staticStyle:{display:"inline-block","font-weight":"bold",background:"rgb(239, 112, 96)",color:"#ffffff",padding:"3px 10px 1px","border-top-right-radius":"3px","border-top-left-radius":"3px","margin-right":"3px"}},[t._v("最终使用")]),s("span",{staticClass:"suffix"}),s("span",{staticStyle:{display:"inline-block","vertical-align":"bottom","border-bottom":"36px solid #efebe9","border-right":"20px solid transparent"}})]),t._v(" "),s("ol",{staticStyle:{"margin-top":"8px","margin-bottom":"8px","padding-left":"25px",color:"black","list-style-type":"decimal"},attrs:{"data-tool":"mdnice编辑器"}},[s("li",[s("section",{staticStyle:{"margin-top":"5px","margin-bottom":"5px","line-height":"26px","text-align":"left",color:"rgb(1,1,1)","font-weight":"500"}},[t._v("引入")])])]),t._v(" "),s("pre",{staticClass:"custom",staticStyle:{"margin-top":"10px","margin-bottom":"10px"},attrs:{"data-tool":"mdnice编辑器"}},[s("code",{staticClass:"hljs",staticStyle:{"overflow-x":"auto",padding:"16px",color:"#383a42",background:"#fafafa",display:"block","font-family":"Operator Mono, Consolas, Monaco, Menlo, monospace","border-radius":"0px","font-size":"12px","-webkit-overflow-scrolling":"touch"}},[s("span",{staticClass:"hljs-tag",staticStyle:{"line-height":"26px"}},[t._v("<"),s("span",{staticClass:"hljs-name",staticStyle:{color:"#e45649","line-height":"26px"}},[t._v("script")]),t._v(" "),s("span",{staticClass:"hljs-attr",staticStyle:{color:"#986801","line-height":"26px"}},[t._v("src")]),t._v(" = "),s("span",{staticClass:"hljs-string",staticStyle:{color:"#50a14f","line-height":"26px"}},[t._v('"./slider.js"')]),t._v(">")]),s("span",{staticClass:"hljs-tag",staticStyle:{"line-height":"26px"}},[t._v("</"),s("span",{staticClass:"hljs-name",staticStyle:{color:"#e45649","line-height":"26px"}},[t._v("script")]),t._v(">")]),t._v("\n"),s("span")])]),t._v(" "),s("p",{staticStyle:{"font-size":"16px","padding-top":"8px","padding-bottom":"8px",margin:"0","line-height":"26px",color:"black"},attrs:{"data-tool":"mdnice编辑器"}},[t._v("或者")]),t._v(" "),s("pre",{staticClass:"custom",staticStyle:{"margin-top":"10px","margin-bottom":"10px"},attrs:{"data-tool":"mdnice编辑器"}},[s("code",{staticClass:"hljs",staticStyle:{"overflow-x":"auto",padding:"16px",color:"#383a42",background:"#fafafa",display:"block","font-family":"Operator Mono, Consolas, Monaco, Menlo, monospace","border-radius":"0px","font-size":"12px","-webkit-overflow-scrolling":"touch"}},[t._v("import SliderTools from './slider.js'\n"),s("span")])]),t._v(" "),s("ol",{staticStyle:{"margin-top":"8px","margin-bottom":"8px","padding-left":"25px",color:"black","list-style-type":"decimal"},attrs:{start:"2","data-tool":"mdnice编辑器"}},[s("li",[s("section",{staticStyle:{"margin-top":"5px","margin-bottom":"5px","line-height":"26px","text-align":"left",color:"rgb(1,1,1)","font-weight":"500"}},[t._v("初始化")])])]),t._v(" "),s("pre",{staticClass:"custom",staticStyle:{"margin-top":"10px","margin-bottom":"10px"},attrs:{"data-tool":"mdnice编辑器"}},[s("code",{staticClass:"hljs",staticStyle:{"overflow-x":"auto",padding:"16px",color:"#383a42",background:"#fafafa",display:"block","font-family":"Operator Mono, Consolas, Monaco, Menlo, monospace","border-radius":"0px","font-size":"12px","-webkit-overflow-scrolling":"touch"}},[t._v("    "),s("span",{staticClass:"hljs-tag",staticStyle:{"line-height":"26px"}},[t._v("<"),s("span",{staticClass:"hljs-name",staticStyle:{color:"#e45649","line-height":"26px"}},[t._v("div")]),t._v(" "),s("span",{staticClass:"hljs-attr",staticStyle:{color:"#986801","line-height":"26px"}},[t._v("class")]),t._v("="),s("span",{staticClass:"hljs-string",staticStyle:{color:"#50a14f","line-height":"26px"}},[t._v('"slider-wrapper"')]),t._v(">")]),s("span",{staticClass:"hljs-tag",staticStyle:{"line-height":"26px"}},[t._v("</"),s("span",{staticClass:"hljs-name",staticStyle:{color:"#e45649","line-height":"26px"}},[t._v("div")]),t._v(">")]),t._v("   \n"),s("span"),t._v("    "),s("span",{staticClass:"hljs-tag",staticStyle:{"line-height":"26px"}},[t._v("<"),s("span",{staticClass:"hljs-name",staticStyle:{color:"#e45649","line-height":"26px"}},[t._v("script")]),t._v(">")]),s("span",{staticClass:"javascript",staticStyle:{"line-height":"26px"}},[t._v("\n"),s("span"),t._v("        "),s("span",{staticClass:"hljs-keyword",staticStyle:{color:"#a626a4","line-height":"26px"}},[t._v("var")]),t._v(" slider = "),s("span",{staticClass:"hljs-keyword",staticStyle:{color:"#a626a4","line-height":"26px"}},[t._v("new")]),t._v(" SliderTools({\n"),s("span"),t._v("            "),s("span",{staticClass:"hljs-attr",staticStyle:{color:"#986801","line-height":"26px"}},[t._v("el")]),t._v(":"),s("span",{staticClass:"hljs-built_in",staticStyle:{color:"#c18401","line-height":"26px"}},[t._v("document")]),t._v(".querySelector("),s("span",{staticClass:"hljs-string",staticStyle:{color:"#50a14f","line-height":"26px"}},[t._v("'.slider-wrapper'")]),t._v("),\n"),s("span"),t._v("            "),s("span",{staticClass:"hljs-attr",staticStyle:{color:"#986801","line-height":"26px"}},[t._v("complete")]),t._v(":"),s("span",{staticClass:"hljs-function",staticStyle:{"line-height":"26px"}},[s("span",{staticClass:"hljs-keyword",staticStyle:{color:"#a626a4","line-height":"26px"}},[t._v("function")]),t._v("("),s("span",{staticClass:"hljs-params",staticStyle:{"line-height":"26px"}}),t._v(")")]),t._v("{\n"),s("span"),t._v("                alert("),s("span",{staticClass:"hljs-string",staticStyle:{color:"#50a14f","line-height":"26px"}},[t._v("'验证成功啦!!!'")]),t._v(");\n"),s("span"),t._v("            }\n"),s("span"),t._v("        })\n"),s("span"),t._v("    ")]),s("span",{staticClass:"hljs-tag",staticStyle:{"line-height":"26px"}},[t._v("</"),s("span",{staticClass:"hljs-name",staticStyle:{color:"#e45649","line-height":"26px"}},[t._v("script")]),t._v(">")]),t._v("\n"),s("span")])]),t._v(" "),s("h2",{staticStyle:{"margin-top":"30px","margin-bottom":"15px",padding:"0px","font-weight":"bold",color:"black","border-bottom":"2px solid rgb(239, 112, 96)","font-size":"1.3em"},attrs:{"data-tool":"mdnice编辑器"}},[s("span",{staticClass:"prefix",staticStyle:{display:"none"}}),s("span",{staticClass:"content",staticStyle:{display:"inline-block","font-weight":"bold",background:"rgb(239, 112, 96)",color:"#ffffff",padding:"3px 10px 1px","border-top-right-radius":"3px","border-top-left-radius":"3px","margin-right":"3px"}},[t._v("原生JS封装一个组件的常见步骤：")]),s("span",{staticClass:"suffix"}),s("span",{staticStyle:{display:"inline-block","vertical-align":"bottom","border-bottom":"36px solid #efebe9","border-right":"20px solid transparent"}})]),t._v(" "),s("p",{staticStyle:{"font-size":"16px","padding-top":"8px","padding-bottom":"8px",margin:"0","line-height":"26px",color:"black"},attrs:{"data-tool":"mdnice编辑器"}},[t._v("想要封装一个原生的JS组件库，我们常常无从下手，这时候最简单的办法就是先不去封装成库，而是只在页面中实现这个组件的功能。然后在这个功能实现的基础上进行代码抽离，实现封装。常见的封装组件的实现步骤如下：")]),t._v(" "),s("ol",{staticStyle:{"margin-top":"8px","margin-bottom":"8px","padding-left":"25px",color:"black","list-style-type":"decimal"},attrs:{"data-tool":"mdnice编辑器"}},[s("li",[s("section",{staticStyle:{"margin-top":"5px","margin-bottom":"5px","line-height":"26px","text-align":"left",color:"rgb(1,1,1)","font-weight":"500"}},[t._v("闭包中封装一个类")])]),s("li",[s("section",{staticStyle:{"margin-top":"5px","margin-bottom":"5px","line-height":"26px","text-align":"left",color:"rgb(1,1,1)","font-weight":"500"}},[t._v("类的参数统一化")])]),s("li",[s("section",{staticStyle:{"margin-top":"5px","margin-bottom":"5px","line-height":"26px","text-align":"left",color:"rgb(1,1,1)","font-weight":"500"}},[t._v("类中执行init函数")])]),s("li",[s("section",{staticStyle:{"margin-top":"5px","margin-bottom":"5px","line-height":"26px","text-align":"left",color:"rgb(1,1,1)","font-weight":"500"}},[t._v("其他功能的实现")])]),s("li",[s("section",{staticStyle:{"margin-top":"5px","margin-bottom":"5px","line-height":"26px","text-align":"left",color:"rgb(1,1,1)","font-weight":"500"}},[t._v("导出类")])])]),t._v(" "),s("p",{staticStyle:{"font-size":"16px","padding-top":"8px","padding-bottom":"8px",margin:"0","line-height":"26px",color:"black"},attrs:{"data-tool":"mdnice编辑器"}},[t._v("接下来，我们就按照这个思路来封装一下这个滑块验证组件。")]),t._v(" "),s("h3",{staticStyle:{"margin-top":"30px","margin-bottom":"15px",padding:"0px","font-weight":"bold",color:"black","font-size":"20px"},attrs:{"data-tool":"mdnice编辑器"}},[s("span",{staticClass:"prefix",staticStyle:{display:"none"}}),s("span",{staticClass:"content"},[t._v("1. 闭包中封装一个类")]),s("span",{staticClass:"suffix",staticStyle:{display:"none"}})]),t._v(" "),s("p",{staticStyle:{"font-size":"16px","padding-top":"8px","padding-bottom":"8px",margin:"0","line-height":"26px",color:"black"},attrs:{"data-tool":"mdnice编辑器"}},[t._v("我们将组件封装到闭包中，是为了避免组件受到全局变量的污染，或者污染全局变量。")]),t._v(" "),s("pre",{staticClass:"custom",staticStyle:{"margin-top":"10px","margin-bottom":"10px"},attrs:{"data-tool":"mdnice编辑器"}},[s("code",{staticClass:"hljs",staticStyle:{"overflow-x":"auto",padding:"16px",color:"#383a42",background:"#fafafa",display:"block","font-family":"Operator Mono, Consolas, Monaco, Menlo, monospace","border-radius":"0px","font-size":"12px","-webkit-overflow-scrolling":"touch"}},[s("span",{staticClass:"hljs-comment",staticStyle:{color:"#a0a1a7","font-style":"italic","line-height":"26px"}},[t._v("// 闭包")]),t._v("\n"),s("span"),t._v("("),s("span",{staticClass:"hljs-function",staticStyle:{"line-height":"26px"}},[s("span",{staticClass:"hljs-keyword",staticStyle:{color:"#a626a4","line-height":"26px"}},[t._v("function")]),t._v("("),s("span",{staticClass:"hljs-params",staticStyle:{"line-height":"26px"}}),t._v(")")]),t._v("{\n"),s("span"),t._v("   "),s("span",{staticClass:"hljs-comment",staticStyle:{color:"#a0a1a7","font-style":"italic","line-height":"26px"}},[t._v("//  SliderTools就是一个类，这里我们没有使用ES6中的Class")]),t._v("\n"),s("span"),t._v("   "),s("span",{staticClass:"hljs-function",staticStyle:{"line-height":"26px"}},[s("span",{staticClass:"hljs-keyword",staticStyle:{color:"#a626a4","line-height":"26px"}},[t._v("function")]),t._v(" "),s("span",{staticClass:"hljs-title",staticStyle:{color:"#4078f2","line-height":"26px"}},[t._v("SliderTools")]),t._v("("),s("span",{staticClass:"hljs-params",staticStyle:{"line-height":"26px"}},[t._v("options")]),t._v(")")]),t._v("{\n"),s("span"),t._v("    "),s("span",{staticClass:"hljs-comment",staticStyle:{color:"#a0a1a7","font-style":"italic","line-height":"26px"}},[t._v("// 暂时没有代码")]),t._v("\n"),s("span"),t._v("   }\n"),s("span"),t._v("})()\n"),s("span")])]),t._v(" "),s("p",{staticStyle:{"font-size":"16px","padding-top":"8px","padding-bottom":"8px",margin:"0","line-height":"26px",color:"black"},attrs:{"data-tool":"mdnice编辑器"}},[t._v("闭包中的类就是用来实现这个组件的全部功能，通过原生js来实现组件，通常是将其功能挂载到类的实例上。")]),t._v(" "),s("h3",{staticStyle:{"margin-top":"30px","margin-bottom":"15px",padding:"0px","font-weight":"bold",color:"black","font-size":"20px"},attrs:{"data-tool":"mdnice编辑器"}},[s("span",{staticClass:"prefix",staticStyle:{display:"none"}}),s("span",{staticClass:"content"},[t._v("2. 类的参数统一化")]),s("span",{staticClass:"suffix",staticStyle:{display:"none"}})]),t._v(" "),s("p",{staticStyle:{"font-size":"16px","padding-top":"8px","padding-bottom":"8px",margin:"0","line-height":"26px",color:"black"},attrs:{"data-tool":"mdnice编辑器"}},[t._v("我们知道要实现一个组件，必然需要支持参数的传递，我们需要给用户提供较多的参数进行个性化定制，但是用户可能并不会每个参数都传递，也就是说我们需要一些默认参数。因此，我们首先就需要对用户传入的参数和默认参数进行合并，甚至很多时候还需要对用户传入参数进行校验,比如要求用户传入对象，却传入了数组等等。这些都可以统称为参数的统一化。")]),t._v(" "),s("pre",{staticClass:"custom",staticStyle:{"margin-top":"10px","margin-bottom":"10px"},attrs:{"data-tool":"mdnice编辑器"}},[s("code",{staticClass:"hljs",staticStyle:{"overflow-x":"auto",padding:"16px",color:"#383a42",background:"#fafafa",display:"block","font-family":"Operator Mono, Consolas, Monaco, Menlo, monospace","border-radius":"0px","font-size":"12px","-webkit-overflow-scrolling":"touch"}},[t._v(" "),s("span",{staticClass:"hljs-function",staticStyle:{"line-height":"26px"}},[s("span",{staticClass:"hljs-keyword",staticStyle:{color:"#a626a4","line-height":"26px"}},[t._v("function")]),t._v(" "),s("span",{staticClass:"hljs-title",staticStyle:{color:"#4078f2","line-height":"26px"}},[t._v("SliderTools")]),t._v("("),s("span",{staticClass:"hljs-params",staticStyle:{"line-height":"26px"}},[t._v("options")]),t._v(")")]),t._v("{\n"),s("span"),t._v("    "),s("span",{staticClass:"hljs-comment",staticStyle:{color:"#a0a1a7","font-style":"italic","line-height":"26px"}},[t._v("// 默认参数")]),t._v("\n"),s("span"),t._v("    "),s("span",{staticClass:"hljs-keyword",staticStyle:{color:"#a626a4","line-height":"26px"}},[t._v("var")]),t._v(" defaultOptions = {\n"),s("span"),t._v("      "),s("span",{staticClass:"hljs-attr",staticStyle:{color:"#986801","line-height":"26px"}},[t._v("el")]),t._v(": "),s("span",{staticClass:"hljs-built_in",staticStyle:{color:"#c18401","line-height":"26px"}},[t._v("document")]),t._v(".body,\n"),s("span"),t._v("      "),s("span",{staticClass:"hljs-attr",staticStyle:{color:"#986801","line-height":"26px"}},[t._v("complete")]),t._v(":"),s("span",{staticClass:"hljs-keyword",staticStyle:{color:"#a626a4","line-height":"26px"}},[t._v("this")]),t._v(".complete\n"),s("span"),t._v("    };\n"),s("span"),t._v("    "),s("span",{staticClass:"hljs-comment",staticStyle:{color:"#a0a1a7","font-style":"italic","line-height":"26px"}},[t._v("// 合并参数")]),t._v("\n"),s("span"),t._v("    "),s("span",{staticClass:"hljs-keyword",staticStyle:{color:"#a626a4","line-height":"26px"}},[t._v("this")]),t._v(".options = "),s("span",{staticClass:"hljs-built_in",staticStyle:{color:"#c18401","line-height":"26px"}},[t._v("Object")]),t._v(".assign({},defaultOptions,options);\n"),s("span"),t._v(" }\n"),s("span")])]),t._v(" "),s("h3",{staticStyle:{"margin-top":"30px","margin-bottom":"15px",padding:"0px","font-weight":"bold",color:"black","font-size":"20px"},attrs:{"data-tool":"mdnice编辑器"}},[s("span",{staticClass:"prefix",staticStyle:{display:"none"}}),s("span",{staticClass:"content"},[t._v("3. 类中执行init函数")]),s("span",{staticClass:"suffix",staticStyle:{display:"none"}})]),t._v(" "),s("p",{staticStyle:{"font-size":"16px","padding-top":"8px","padding-bottom":"8px",margin:"0","line-height":"26px",color:"black"},attrs:{"data-tool":"mdnice编辑器"}},[t._v("类在外界实例化时，必须进行初始化，也就是说必须提供一个入口来实现组件的功能，通常是定义一个init函数，初始化时就执行这个init函数，所有的功能都从init函数开始。")]),t._v(" "),s("pre",{staticClass:"custom",staticStyle:{"margin-top":"10px","margin-bottom":"10px"},attrs:{"data-tool":"mdnice编辑器"}},[s("code",{staticClass:"hljs",staticStyle:{"overflow-x":"auto",padding:"16px",color:"#383a42",background:"#fafafa",display:"block","font-family":"Operator Mono, Consolas, Monaco, Menlo, monospace","border-radius":"0px","font-size":"12px","-webkit-overflow-scrolling":"touch"}},[t._v("  "),s("span",{staticClass:"hljs-function",staticStyle:{"line-height":"26px"}},[s("span",{staticClass:"hljs-keyword",staticStyle:{color:"#a626a4","line-height":"26px"}},[t._v("function")]),t._v(" "),s("span",{staticClass:"hljs-title",staticStyle:{color:"#4078f2","line-height":"26px"}},[t._v("SliderTools")]),t._v("("),s("span",{staticClass:"hljs-params",staticStyle:{"line-height":"26px"}},[t._v("options")]),t._v(")")]),t._v("{\n"),s("span"),t._v("    "),s("span",{staticClass:"hljs-keyword",staticStyle:{color:"#a626a4","line-height":"26px"}},[t._v("var")]),t._v(" defaultOptions = {\n"),s("span"),t._v("      "),s("span",{staticClass:"hljs-attr",staticStyle:{color:"#986801","line-height":"26px"}},[t._v("el")]),t._v(": "),s("span",{staticClass:"hljs-built_in",staticStyle:{color:"#c18401","line-height":"26px"}},[t._v("document")]),t._v(".body,\n"),s("span"),t._v("      "),s("span",{staticClass:"hljs-attr",staticStyle:{color:"#986801","line-height":"26px"}},[t._v("complete")]),t._v(":"),s("span",{staticClass:"hljs-keyword",staticStyle:{color:"#a626a4","line-height":"26px"}},[t._v("this")]),t._v(".complete\n"),s("span"),t._v("    };\n"),s("span"),t._v("    "),s("span",{staticClass:"hljs-keyword",staticStyle:{color:"#a626a4","line-height":"26px"}},[t._v("this")]),t._v(".options = "),s("span",{staticClass:"hljs-built_in",staticStyle:{color:"#c18401","line-height":"26px"}},[t._v("Object")]),t._v(".assign({},defaultOptions,options);\n"),s("span"),t._v("    "),s("span",{staticClass:"hljs-keyword",staticStyle:{color:"#a626a4","line-height":"26px"}},[t._v("this")]),t._v(".init();   "),s("span",{staticClass:"hljs-comment",staticStyle:{color:"#a0a1a7","font-style":"italic","line-height":"26px"}},[t._v("// 初始化")]),t._v("\n"),s("span"),t._v("    "),s("span",{staticClass:"hljs-keyword",staticStyle:{color:"#a626a4","line-height":"26px"}},[t._v("this")]),t._v(".diffX = "),s("span",{staticClass:"hljs-number",staticStyle:{color:"#986801","line-height":"26px"}},[t._v("0")]),t._v(";\n"),s("span"),t._v("    "),s("span",{staticClass:"hljs-keyword",staticStyle:{color:"#a626a4","line-height":"26px"}},[t._v("this")]),t._v(".flag = "),s("span",{staticClass:"hljs-literal",staticStyle:{color:"#0184bb","line-height":"26px"}},[t._v("false")]),t._v(";   "),s("span",{staticClass:"hljs-comment",staticStyle:{color:"#a0a1a7","font-style":"italic","line-height":"26px"}},[t._v("// 是否推动到最右侧")]),t._v("\n"),s("span"),t._v("  }\n"),s("span"),t._v("  "),s("span",{staticClass:"hljs-comment",staticStyle:{color:"#a0a1a7","font-style":"italic","line-height":"26px"}},[t._v("// 原型上挂载init函数")]),t._v("\n"),s("span"),t._v("  SliderTools.prototype.init = "),s("span",{staticClass:"hljs-function",staticStyle:{"line-height":"26px"}},[s("span",{staticClass:"hljs-keyword",staticStyle:{color:"#a626a4","line-height":"26px"}},[t._v("function")]),t._v("("),s("span",{staticClass:"hljs-params",staticStyle:{"line-height":"26px"}}),t._v(")")]),t._v("{\n"),s("span"),t._v("    "),s("span",{staticClass:"hljs-keyword",staticStyle:{color:"#a626a4","line-height":"26px"}},[t._v("this")]),t._v(".createSlider();\n"),s("span"),t._v("    "),s("span",{staticClass:"hljs-keyword",staticStyle:{color:"#a626a4","line-height":"26px"}},[t._v("this")]),t._v(".bindEvents();\n"),s("span"),t._v("  }\n"),s("span")])]),t._v(" "),s("h3",{staticStyle:{"margin-top":"30px","margin-bottom":"15px",padding:"0px","font-weight":"bold",color:"black","font-size":"20px"},attrs:{"data-tool":"mdnice编辑器"}},[s("span",{staticClass:"prefix",staticStyle:{display:"none"}}),s("span",{staticClass:"content"},[t._v("4. 其他功能的实现")]),s("span",{staticClass:"suffix",staticStyle:{display:"none"}})]),t._v(" "),s("p",{staticStyle:{"font-size":"16px","padding-top":"8px","padding-bottom":"8px",margin:"0","line-height":"26px",color:"black"},attrs:{"data-tool":"mdnice编辑器"}},[t._v("我们可以看到init函数中执行了createSlider函数和bindEvents函数，这些函数就是具体的组件功能函数了。一般想要封装一个组件，需要将HTML元素插入进来，将Css样式插入进来，将事件进行绑定等。这里的createSlider就是添加元素和添加样式。我们可以看下具体的实现：")]),t._v(" "),s("pre",{staticClass:"custom",staticStyle:{"margin-top":"10px","margin-bottom":"10px"},attrs:{"data-tool":"mdnice编辑器"}},[s("code",{staticClass:"hljs",staticStyle:{"overflow-x":"auto",padding:"16px",color:"#383a42",background:"#fafafa",display:"block","font-family":"Operator Mono, Consolas, Monaco, Menlo, monospace","border-radius":"0px","font-size":"12px","-webkit-overflow-scrolling":"touch"}},[t._v("    SliderTools.prototype.createSlider = "),s("span",{staticClass:"hljs-function",staticStyle:{"line-height":"26px"}},[s("span",{staticClass:"hljs-keyword",staticStyle:{color:"#a626a4","line-height":"26px"}},[t._v("function")]),t._v("("),s("span",{staticClass:"hljs-params",staticStyle:{"line-height":"26px"}}),t._v(")")]),t._v("{\n"),s("span"),t._v("        "),s("span",{staticClass:"hljs-keyword",staticStyle:{color:"#a626a4","line-height":"26px"}},[t._v("this")]),t._v(".options.el.innerHTML = "),s("span",{staticClass:"hljs-string",staticStyle:{color:"#50a14f","line-height":"26px"}},[t._v("`\n"),s("span"),t._v('        <div id="slider">\n'),s("span"),t._v('            <div class="drag_bg"></div>\n'),s("span"),t._v('            <div class="drag_text" onselectstart="return false;" unselectable="on">拖动滑块验证</div>\n'),s("span"),t._v('            <div class="handler handler_bg"></div>\n'),s("span"),t._v("        </div>\n"),s("span"),t._v("        `")]),t._v(";\n"),s("span"),t._v("        util.addCss(\n"),s("span"),t._v("            "),s("span",{staticClass:"hljs-string",staticStyle:{color:"#50a14f","line-height":"26px"}},[t._v("` #slider {position: relative;background-color: #e8e8e8;width: 300px;height: 34px;line-height: 34px;text-align: center;}\n"),s("span"),t._v("            .slide_ok { color: #fff;}`")]),t._v("\n"),s("span"),t._v("        );\n"),s("span"),t._v("    }\n"),s("span")])]),t._v(" "),s("p",{staticStyle:{"font-size":"16px","padding-top":"8px","padding-bottom":"8px",margin:"0","line-height":"26px",color:"black"},attrs:{"data-tool":"mdnice编辑器"}},[t._v("这里我们只是展示了部分样式，在封装组件的过程中，我们通常还会用到一些工具类函数，这些工具类函数用于帮助我们实现特定的功能，比如上面的util.addCss就是用来添加CSS样式。")]),t._v(" "),s("h3",{staticStyle:{"margin-top":"30px","margin-bottom":"15px",padding:"0px","font-weight":"bold",color:"black","font-size":"20px"},attrs:{"data-tool":"mdnice编辑器"}},[s("span",{staticClass:"prefix",staticStyle:{display:"none"}}),s("span",{staticClass:"content"},[t._v("5.导出类")]),s("span",{staticClass:"suffix",staticStyle:{display:"none"}})]),t._v(" "),s("p",{staticStyle:{"font-size":"16px","padding-top":"8px","padding-bottom":"8px",margin:"0","line-height":"26px",color:"black"},attrs:{"data-tool":"mdnice编辑器"}},[t._v("到目前为止，如果我们已经实现了一个类的全部功能，那么我们需要将其导出才能进行使用。由于我们使用的是原生js，因此我们需要判断一下试运行在浏览器环境还是node.js环境，不同的环境导导出方式不同。")]),t._v(" "),s("pre",{staticClass:"custom",staticStyle:{"margin-top":"10px","margin-bottom":"10px"},attrs:{"data-tool":"mdnice编辑器"}},[s("code",{staticClass:"hljs",staticStyle:{"overflow-x":"auto",padding:"16px",color:"#383a42",background:"#fafafa",display:"block","font-family":"Operator Mono, Consolas, Monaco, Menlo, monospace","border-radius":"0px","font-size":"12px","-webkit-overflow-scrolling":"touch"}},[t._v("    "),s("span",{staticClass:"hljs-keyword",staticStyle:{color:"#a626a4","line-height":"26px"}},[t._v("var")]),t._v(" root = ("),s("span",{staticClass:"hljs-keyword",staticStyle:{color:"#a626a4","line-height":"26px"}},[t._v("typeof")]),t._v(" self == "),s("span",{staticClass:"hljs-string",staticStyle:{color:"#50a14f","line-height":"26px"}},[t._v("'object'")]),t._v(" && self.self == self && self) ||\n"),s("span"),t._v("    ("),s("span",{staticClass:"hljs-keyword",staticStyle:{color:"#a626a4","line-height":"26px"}},[t._v("typeof")]),t._v(" global == "),s("span",{staticClass:"hljs-string",staticStyle:{color:"#50a14f","line-height":"26px"}},[t._v("'object'")]),t._v(" && global.global == global && global) ||\n"),s("span"),t._v("    "),s("span",{staticClass:"hljs-keyword",staticStyle:{color:"#a626a4","line-height":"26px"}},[t._v("this")]),t._v(" || {};\n"),s("span"),t._v("    "),s("span",{staticClass:"hljs-keyword",staticStyle:{color:"#a626a4","line-height":"26px"}},[t._v("if")]),t._v(" ("),s("span",{staticClass:"hljs-keyword",staticStyle:{color:"#a626a4","line-height":"26px"}},[t._v("typeof")]),t._v(" exports != "),s("span",{staticClass:"hljs-string",staticStyle:{color:"#50a14f","line-height":"26px"}},[t._v("'undefined'")]),t._v(" && !exports.nodeType) {\n"),s("span"),t._v("        "),s("span",{staticClass:"hljs-keyword",staticStyle:{color:"#a626a4","line-height":"26px"}},[t._v("if")]),t._v(" ("),s("span",{staticClass:"hljs-keyword",staticStyle:{color:"#a626a4","line-height":"26px"}},[t._v("typeof")]),t._v(" "),s("span",{staticClass:"hljs-built_in",staticStyle:{color:"#c18401","line-height":"26px"}},[t._v("module")]),t._v(" != "),s("span",{staticClass:"hljs-string",staticStyle:{color:"#50a14f","line-height":"26px"}},[t._v("'undefined'")]),t._v(" && !"),s("span",{staticClass:"hljs-built_in",staticStyle:{color:"#c18401","line-height":"26px"}},[t._v("module")]),t._v(".nodeType && "),s("span",{staticClass:"hljs-built_in",staticStyle:{color:"#c18401","line-height":"26px"}},[t._v("module")]),t._v(".exports) {\n"),s("span"),t._v("            exports = "),s("span",{staticClass:"hljs-built_in",staticStyle:{color:"#c18401","line-height":"26px"}},[t._v("module")]),t._v(".exports = SliderTools;\n"),s("span"),t._v("        }\n"),s("span"),t._v("        exports.SliderTools = SliderTools;\n"),s("span"),t._v("    } "),s("span",{staticClass:"hljs-keyword",staticStyle:{color:"#a626a4","line-height":"26px"}},[t._v("else")]),t._v(" {\n"),s("span"),t._v("        root.SliderTools = SliderTools;\n"),s("span"),t._v("    }\n"),s("span")])]),t._v(" "),s("h2",{staticStyle:{"margin-top":"30px","margin-bottom":"15px",padding:"0px","font-weight":"bold",color:"black","border-bottom":"2px solid rgb(239, 112, 96)","font-size":"1.3em"},attrs:{"data-tool":"mdnice编辑器"}},[s("span",{staticClass:"prefix",staticStyle:{display:"none"}}),s("span",{staticClass:"content",staticStyle:{display:"inline-block","font-weight":"bold",background:"rgb(239, 112, 96)",color:"#ffffff",padding:"3px 10px 1px","border-top-right-radius":"3px","border-top-left-radius":"3px","margin-right":"3px"}},[t._v("总结")]),s("span",{staticClass:"suffix"}),s("span",{staticStyle:{display:"inline-block","vertical-align":"bottom","border-bottom":"36px solid #efebe9","border-right":"20px solid transparent"}})]),t._v(" "),s("p",{staticStyle:{"font-size":"16px","padding-top":"8px","padding-bottom":"8px",margin:"0","line-height":"26px",color:"black"},attrs:{"data-tool":"mdnice编辑器"}},[t._v("本文基于原生JS实现一个滑动验证(具体实现不是目的)，总结了原生JS封装一个组件的常见步骤，主要包括：")]),t._v(" "),s("ol",{staticStyle:{"margin-top":"8px","margin-bottom":"8px","padding-left":"25px",color:"black","list-style-type":"decimal"},attrs:{"data-tool":"mdnice编辑器"}},[s("li",[s("section",{staticStyle:{"margin-top":"5px","margin-bottom":"5px","line-height":"26px","text-align":"left",color:"rgb(1,1,1)","font-weight":"500"}},[t._v("闭包中封装一个类")])]),s("li",[s("section",{staticStyle:{"margin-top":"5px","margin-bottom":"5px","line-height":"26px","text-align":"left",color:"rgb(1,1,1)","font-weight":"500"}},[t._v("类的参数统一化")])]),s("li",[s("section",{staticStyle:{"margin-top":"5px","margin-bottom":"5px","line-height":"26px","text-align":"left",color:"rgb(1,1,1)","font-weight":"500"}},[t._v("类中执行init函数")])]),s("li",[s("section",{staticStyle:{"margin-top":"5px","margin-bottom":"5px","line-height":"26px","text-align":"left",color:"rgb(1,1,1)","font-weight":"500"}},[t._v("其他功能的实现")])]),s("li",[s("section",{staticStyle:{"margin-top":"5px","margin-bottom":"5px","line-height":"26px","text-align":"left",color:"rgb(1,1,1)","font-weight":"500"}},[t._v("导出类")])])]),t._v(" "),s("p",{staticStyle:{"font-size":"16px","padding-top":"8px","padding-bottom":"8px",margin:"0","line-height":"26px",color:"black"},attrs:{"data-tool":"mdnice编辑器"}},[t._v("以后我们自己再进行组件封装，就可以按照这些步骤照葫芦画瓢。掌握一个组件的实现不是目的，关键是掌握一系列方法论，举一反三。")]),t._v(" "),s("p",{staticStyle:{"font-size":"16px","padding-top":"8px","padding-bottom":"8px",margin:"0","line-height":"26px",color:"black"},attrs:{"data-tool":"mdnice编辑器"}},[t._v("完整的滑块验证组件实现源码可以查看："),s("a",{staticStyle:{"text-decoration":"none","word-wrap":"break-word","font-weight":"bold",color:"rgb(239, 112, 96)","border-bottom":"1px solid rgb(239, 112, 96)"},attrs:{href:"https://github.com/yinhaiying/js-tools/tree/master/slider-tools"}},[t._v("原生JS实现滑块验证")])])])])}),[],!1,null,null,null);a.default=l.exports}}]);