(window.webpackJsonp=window.webpackJsonp||[]).push([[69],{317:function(t,a,o){"use strict";o.r(a);var s=o(28),i=Object(s.a)({},(function(){var t=this,a=t.$createElement,o=t._self._c||a;return o("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[o("section",{staticStyle:{"font-size":"16px",color:"black",padding:"0 10px","line-height":"1.6","word-spacing":"0px","letter-spacing":"0px","word-break":"break-word","word-wrap":"break-word","text-align":"left","font-family":"Optima-Regular, Optima, PingFangSC-light, PingFangTC-light, 'PingFang SC', Cambria, Cochin, Georgia, Times, 'Times New Roman', serif","margin-top":"-10px"},attrs:{id:"nice","data-tool":"mdnice编辑器","data-website":"https://www.mdnice.com"}},[o("h1",{staticStyle:{"margin-top":"70px","margin-bottom":"15px",padding:"0px","font-weight":"bold",color:"black","font-size":"24px"},attrs:{"data-tool":"mdnice编辑器"}},[o("span",{staticClass:"prefix",staticStyle:{display:"none"}}),o("span",{staticClass:"content"},[t._v("Vue.extend动态创建实例")]),o("span",{staticClass:"suffix"})]),t._v(" "),o("p",{staticStyle:{"font-size":"16px","padding-top":"8px","padding-bottom":"8px",margin:"0","line-height":"26px",color:"black"},attrs:{"data-tool":"mdnice编辑器"}},[t._v("在Vue中，如果我们想要动态地来控制一个组件的显示和隐藏，比如通过点击按钮显示一个对话框或者弹出一条信息。我们通常会提前写好这个组件，然后通过"),o("code",{staticStyle:{"font-size":"14px","word-wrap":"break-word",padding:"2px 4px","border-radius":"4px",margin:"0 2px","background-color":"rgba(27,31,35,.05)","font-family":"Operator Mono, Consolas, Monaco, Menlo, monospace","word-break":"break-all",color:"rgb(239, 112, 96)"}},[t._v("v-if = “show”")]),t._v("来控制它的显示隐藏。如下所示：")]),t._v(" "),o("pre",{staticClass:"custom",staticStyle:{"margin-top":"10px","margin-bottom":"10px"},attrs:{"data-tool":"mdnice编辑器"}},[o("code",{staticClass:"hljs",staticStyle:{"overflow-x":"auto",padding:"16px",color:"#383a42",background:"#fafafa",display:"block","font-family":"Operator Mono, Consolas, Monaco, Menlo, monospace","border-radius":"0px","font-size":"12px","-webkit-overflow-scrolling":"touch"}},[t._v("    <div>\n"),o("span"),t._v("        "),o("span",{staticClass:"xml",staticStyle:{"line-height":"26px"}},[o("span",{staticClass:"hljs-tag",staticStyle:{"line-height":"26px"}},[t._v("<"),o("span",{staticClass:"hljs-name",staticStyle:{color:"#e45649","line-height":"26px"}},[t._v("button")]),t._v(" @"),o("span",{staticClass:"hljs-attr",staticStyle:{color:"#986801","line-height":"26px"}},[t._v("click")]),t._v(" = "),o("span",{staticClass:"hljs-string",staticStyle:{color:"#50a14f","line-height":"26px"}},[t._v('"show = !show"')]),t._v(">")]),t._v("弹出"),o("span",{staticClass:"hljs-tag",staticStyle:{"line-height":"26px"}},[t._v("</"),o("span",{staticClass:"hljs-name",staticStyle:{color:"#e45649","line-height":"26px"}},[t._v("button")]),t._v(">")])]),t._v("\n"),o("span"),t._v("        "),o("span",{staticClass:"xml",staticStyle:{"line-height":"26px"}},[o("span",{staticClass:"hljs-tag",staticStyle:{"line-height":"26px"}},[t._v("<"),o("span",{staticClass:"hljs-name",staticStyle:{color:"#e45649","line-height":"26px"}},[t._v("span")]),t._v(" "),o("span",{staticClass:"hljs-attr",staticStyle:{color:"#986801","line-height":"26px"}},[t._v("v-if")]),t._v(" = "),o("span",{staticClass:"hljs-string",staticStyle:{color:"#50a14f","line-height":"26px"}},[t._v('"show"')]),t._v(">")]),t._v("这是一条通过按钮控制显示隐藏的信息"),o("span",{staticClass:"hljs-tag",staticStyle:{"line-height":"26px"}},[t._v("</"),o("span",{staticClass:"hljs-name",staticStyle:{color:"#e45649","line-height":"26px"}},[t._v("span")]),t._v(">")])]),t._v("   \n"),o("span"),t._v("    "),o("span",{staticClass:"xml",staticStyle:{"line-height":"26px"}},[o("span",{staticClass:"hljs-tag",staticStyle:{"line-height":"26px"}},[t._v("</"),o("span",{staticClass:"hljs-name",staticStyle:{color:"#e45649","line-height":"26px"}},[t._v("div")]),t._v(">")])]),t._v("\n"),o("span")])]),t._v(" "),o("p",{staticStyle:{"font-size":"16px","padding-top":"8px","padding-bottom":"8px",margin:"0","line-height":"26px",color:"black"},attrs:{"data-tool":"mdnice编辑器"}},[t._v("另外还有一种实现方法就是通过"),o("code",{staticStyle:{"font-size":"14px","word-wrap":"break-word",padding:"2px 4px","border-radius":"4px",margin:"0 2px","background-color":"rgba(27,31,35,.05)","font-family":"Operator Mono, Consolas, Monaco, Menlo, monospace","word-break":"break-all",color:"rgb(239, 112, 96)"}},[t._v("Vue.extend")]),t._v("来动态地创建实例，在想要进行显示的时候创建实例。\n在需要隐藏的时候删除这个实例。")]),t._v(" "),o("ol",{staticStyle:{"margin-top":"8px","margin-bottom":"8px","padding-left":"25px",color:"black","list-style-type":"decimal"},attrs:{"data-tool":"mdnice编辑器"}},[o("li",[o("section",{staticStyle:{"margin-top":"5px","margin-bottom":"5px","line-height":"26px","text-align":"left",color:"rgb(1,1,1)","font-weight":"500"}},[t._v("通过"),o("code",{staticStyle:{"font-size":"14px","word-wrap":"break-word",padding:"2px 4px","border-radius":"4px",margin:"0 2px","background-color":"rgba(27,31,35,.05)","font-family":"Operator Mono, Consolas, Monaco, Menlo, monospace","word-break":"break-all",color:"rgb(239, 112, 96)"}},[t._v("Vue.extend")]),t._v("创建构造器,这个构造器用于需要显示是创建实例。")])])]),t._v(" "),o("pre",{staticClass:"custom",staticStyle:{"margin-top":"10px","margin-bottom":"10px"},attrs:{"data-tool":"mdnice编辑器"}},[o("code",{staticClass:"hljs",staticStyle:{"overflow-x":"auto",padding:"16px",color:"#383a42",background:"#fafafa",display:"block","font-family":"Operator Mono, Consolas, Monaco, Menlo, monospace","border-radius":"0px","font-size":"12px","-webkit-overflow-scrolling":"touch"}},[o("span",{staticClass:"hljs-keyword",staticStyle:{color:"#a626a4","line-height":"26px"}},[t._v("const")]),t._v(" Constructor = Vue.extend({\n"),o("span"),t._v("    "),o("span",{staticClass:"hljs-attr",staticStyle:{color:"#986801","line-height":"26px"}},[t._v("template")]),t._v(":"),o("span",{staticClass:"hljs-string",staticStyle:{color:"#50a14f","line-height":"26px"}},[t._v("` <span>"+t._s(t.message)+"</span> `")]),t._v(",\n"),o("span"),t._v("    data(){\n"),o("span"),t._v("        "),o("span",{staticClass:"hljs-keyword",staticStyle:{color:"#a626a4","line-height":"26px"}},[t._v("return")]),t._v(" {\n"),o("span"),t._v("            "),o("span",{staticClass:"hljs-attr",staticStyle:{color:"#986801","line-height":"26px"}},[t._v("message")]),t._v(":"),o("span",{staticClass:"hljs-string",staticStyle:{color:"#50a14f","line-height":"26px"}},[t._v("'这是一条通过按钮控制显示隐藏的信息'")]),t._v("\n"),o("span"),t._v("        }\n"),o("span"),t._v("    }\n"),o("span"),t._v("})\n"),o("span")])]),t._v(" "),o("ol",{staticStyle:{"margin-top":"8px","margin-bottom":"8px","padding-left":"25px",color:"black","list-style-type":"decimal"},attrs:{start:"2","data-tool":"mdnice编辑器"}},[o("li",[o("section",{staticStyle:{"margin-top":"5px","margin-bottom":"5px","line-height":"26px","text-align":"left",color:"rgb(1,1,1)","font-weight":"500"}},[t._v("需要显示时创建实例")])])]),t._v(" "),o("pre",{staticClass:"custom",staticStyle:{"margin-top":"10px","margin-bottom":"10px"},attrs:{"data-tool":"mdnice编辑器"}},[o("code",{staticClass:"hljs",staticStyle:{"overflow-x":"auto",padding:"16px",color:"#383a42",background:"#fafafa",display:"block","font-family":"Operator Mono, Consolas, Monaco, Menlo, monospace","border-radius":"0px","font-size":"12px","-webkit-overflow-scrolling":"touch"}},[t._v("showHandle(){\n"),o("span"),t._v("    "),o("span",{staticClass:"hljs-keyword",staticStyle:{color:"#a626a4","line-height":"26px"}},[t._v("const")]),t._v(" MessageCom = "),o("span",{staticClass:"hljs-keyword",staticStyle:{color:"#a626a4","line-height":"26px"}},[t._v("this")]),t._v(".MessageCom = "),o("span",{staticClass:"hljs-keyword",staticStyle:{color:"#a626a4","line-height":"26px"}},[t._v("new")]),t._v(" Constructor({\n"),o("span"),t._v("        "),o("span",{staticClass:"hljs-attr",staticStyle:{color:"#986801","line-height":"26px"}},[t._v("propsData")]),t._v(":{\n"),o("span"),t._v("            "),o("span",{staticClass:"hljs-attr",staticStyle:{color:"#986801","line-height":"26px"}},[t._v("show")]),t._v(":"),o("span",{staticClass:"hljs-literal",staticStyle:{color:"#0184bb","line-height":"26px"}},[t._v("true")]),t._v("\n"),o("span"),t._v("        }\n"),o("span"),t._v("    }).$mount();\n"),o("span"),t._v("\n"),o("span"),t._v("    "),o("span",{staticClass:"hljs-keyword",staticStyle:{color:"#a626a4","line-height":"26px"}},[t._v("this")]),t._v(".$refs.message.appendChild(MessageCom.$el);\n"),o("span"),t._v("}\n"),o("span")])]),t._v(" "),o("ol",{staticStyle:{"margin-top":"8px","margin-bottom":"8px","padding-left":"25px",color:"black","list-style-type":"decimal"},attrs:{start:"3","data-tool":"mdnice编辑器"}},[o("li",[o("section",{staticStyle:{"margin-top":"5px","margin-bottom":"5px","line-height":"26px","text-align":"left",color:"rgb(1,1,1)","font-weight":"500"}},[t._v("需要隐藏时删除实例")])])]),t._v(" "),o("pre",{staticClass:"custom",staticStyle:{"margin-top":"10px","margin-bottom":"10px"},attrs:{"data-tool":"mdnice编辑器"}},[o("code",{staticClass:"hljs",staticStyle:{"overflow-x":"auto",padding:"16px",color:"#383a42",background:"#fafafa",display:"block","font-family":"Operator Mono, Consolas, Monaco, Menlo, monospace","border-radius":"0px","font-size":"12px","-webkit-overflow-scrolling":"touch"}},[t._v("hiddenHandle(){\n"),o("span"),t._v("    "),o("span",{staticClass:"hljs-keyword",staticStyle:{color:"#a626a4","line-height":"26px"}},[t._v("this")]),t._v(".MessageCom.$el.remove()\n"),o("span"),t._v("    "),o("span",{staticClass:"hljs-keyword",staticStyle:{color:"#a626a4","line-height":"26px"}},[t._v("this")]),t._v(".MessageCom.$destroy()\n"),o("span"),t._v("    "),o("span",{staticClass:"hljs-keyword",staticStyle:{color:"#a626a4","line-height":"26px"}},[t._v("this")]),t._v(".MessageCom = "),o("span",{staticClass:"hljs-literal",staticStyle:{color:"#0184bb","line-height":"26px"}},[t._v("null")]),t._v("\n"),o("span"),t._v("}\n"),o("span")])]),t._v(" "),o("p",{staticStyle:{"font-size":"16px","padding-top":"8px","padding-bottom":"8px",margin:"0","line-height":"26px",color:"black"},attrs:{"data-tool":"mdnice编辑器"}},[t._v("这样的话就同样实现了一个显示，隐藏效果。")]),t._v(" "),o("h2",{staticStyle:{"margin-top":"30px","margin-bottom":"15px",padding:"0px","font-weight":"bold",color:"black","border-bottom":"2px solid rgb(239, 112, 96)","font-size":"1.3em"},attrs:{"data-tool":"mdnice编辑器"}},[o("span",{staticClass:"prefix",staticStyle:{display:"none"}}),o("span",{staticClass:"content",staticStyle:{display:"inline-block","font-weight":"bold",background:"rgb(239, 112, 96)",color:"#ffffff",padding:"3px 10px 1px","border-top-right-radius":"3px","border-top-left-radius":"3px","margin-right":"3px"}},[t._v("使用场景")]),o("span",{staticClass:"suffix"}),o("span",{staticStyle:{display:"inline-block","vertical-align":"bottom","border-bottom":"36px solid #efebe9","border-right":"20px solid transparent"}})]),t._v(" "),o("p",{staticStyle:{"font-size":"16px","padding-top":"8px","padding-bottom":"8px",margin:"0","line-height":"26px",color:"black"},attrs:{"data-tool":"mdnice编辑器"}},[t._v("通过上面的分析，我们发现这种操作完全没有必要，相比于通过属性来控制显示和隐藏；创建实例显得更加麻烦。\n但是它同样具有一定的使用场景。比如：单元测试时：")]),t._v(" "),o("h3",{staticStyle:{"margin-top":"30px","margin-bottom":"15px",padding:"0px","font-weight":"bold",color:"black","font-size":"20px"},attrs:{"data-tool":"mdnice编辑器"}},[o("span",{staticClass:"prefix",staticStyle:{display:"none"}}),o("span",{staticClass:"content"},[t._v("单元测试")]),o("span",{staticClass:"suffix",staticStyle:{display:"none"}})]),t._v(" "),o("p",{staticStyle:{"font-size":"16px","padding-top":"8px","padding-bottom":"8px",margin:"0","line-height":"26px",color:"black"},attrs:{"data-tool":"mdnice编辑器"}},[t._v("在进行单元测试时，为了实现在Vue中的测试，我们必须创建一个基于某个组件的实例，然后才能进行测试。\n如下所示：")]),t._v(" "),o("pre",{staticClass:"custom",staticStyle:{"margin-top":"10px","margin-bottom":"10px"},attrs:{"data-tool":"mdnice编辑器"}},[o("code",{staticClass:"hljs",staticStyle:{"overflow-x":"auto",padding:"16px",color:"#383a42",background:"#fafafa",display:"block","font-family":"Operator Mono, Consolas, Monaco, Menlo, monospace","border-radius":"0px","font-size":"12px","-webkit-overflow-scrolling":"touch"}},[t._v("    it("),o("span",{staticClass:"hljs-string",staticStyle:{color:"#50a14f","line-height":"26px"}},[t._v("'可以设置icon.'")]),t._v(", () => {\n"),o("span"),t._v("        "),o("span",{staticClass:"hljs-keyword",staticStyle:{color:"#a626a4","line-height":"26px"}},[t._v("const")]),t._v(" Constructor = Vue.extend(Button)\n"),o("span"),t._v("        "),o("span",{staticClass:"hljs-keyword",staticStyle:{color:"#a626a4","line-height":"26px"}},[t._v("const")]),t._v(" vm = "),o("span",{staticClass:"hljs-keyword",staticStyle:{color:"#a626a4","line-height":"26px"}},[t._v("new")]),t._v(" Constructor({\n"),o("span"),t._v("        "),o("span",{staticClass:"hljs-attr",staticStyle:{color:"#986801","line-height":"26px"}},[t._v("propsData")]),t._v(": {\n"),o("span"),t._v("            "),o("span",{staticClass:"hljs-attr",staticStyle:{color:"#986801","line-height":"26px"}},[t._v("icon")]),t._v(": "),o("span",{staticClass:"hljs-string",staticStyle:{color:"#50a14f","line-height":"26px"}},[t._v("'settings'")]),t._v("\n"),o("span"),t._v("        }\n"),o("span"),t._v("        }).$mount()\n"),o("span"),t._v("        "),o("span",{staticClass:"hljs-keyword",staticStyle:{color:"#a626a4","line-height":"26px"}},[t._v("const")]),t._v(" useElement = vm.$el.querySelector("),o("span",{staticClass:"hljs-string",staticStyle:{color:"#50a14f","line-height":"26px"}},[t._v("'use'")]),t._v(")\n"),o("span"),t._v("        expect(useElement.getAttribute("),o("span",{staticClass:"hljs-string",staticStyle:{color:"#50a14f","line-height":"26px"}},[t._v("'xlink:href'")]),t._v(")).to.equal("),o("span",{staticClass:"hljs-string",staticStyle:{color:"#50a14f","line-height":"26px"}},[t._v("'#i-settings'")]),t._v(")\n"),o("span"),t._v("        vm.$destroy()\n"),o("span"),t._v("    })\n"),o("span")])]),t._v(" "),o("h3",{staticStyle:{"margin-top":"30px","margin-bottom":"15px",padding:"0px","font-weight":"bold",color:"black","font-size":"20px"},attrs:{"data-tool":"mdnice编辑器"}},[o("span",{staticClass:"prefix",staticStyle:{display:"none"}}),o("span",{staticClass:"content"},[t._v("替代DOM操作")]),o("span",{staticClass:"suffix",staticStyle:{display:"none"}})]),t._v(" "),o("p",{staticStyle:{"font-size":"16px","padding-top":"8px","padding-bottom":"8px",margin:"0","line-height":"26px",color:"black"},attrs:{"data-tool":"mdnice编辑器"}},[t._v("在一些场合下，我们可能需要创建一个"),o("code",{staticStyle:{"font-size":"14px","word-wrap":"break-word",padding:"2px 4px","border-radius":"4px",margin:"0 2px","background-color":"rgba(27,31,35,.05)","font-family":"Operator Mono, Consolas, Monaco, Menlo, monospace","word-break":"break-all",color:"rgb(239, 112, 96)"}},[t._v("div")]),t._v("这种，通常的实现方式如下：")]),t._v(" "),o("pre",{staticClass:"custom",staticStyle:{"margin-top":"10px","margin-bottom":"10px"},attrs:{"data-tool":"mdnice编辑器"}},[o("code",{staticClass:"hljs",staticStyle:{"overflow-x":"auto",padding:"16px",color:"#383a42",background:"#fafafa",display:"block","font-family":"Operator Mono, Consolas, Monaco, Menlo, monospace","border-radius":"0px","font-size":"12px","-webkit-overflow-scrolling":"touch"}},[o("span",{staticClass:"hljs-keyword",staticStyle:{color:"#a626a4","line-height":"26px"}},[t._v("let")]),t._v(" oDiv = "),o("span",{staticClass:"hljs-built_in",staticStyle:{color:"#c18401","line-height":"26px"}},[t._v("document")]),t._v(".createElement();\n"),o("span"),t._v("oDiv.innerHTML = "),o("span",{staticClass:"hljs-string",staticStyle:{color:"#50a14f","line-height":"26px"}},[t._v("'hello,world'")]),t._v(";\n"),o("span"),o("span",{staticClass:"hljs-built_in",staticStyle:{color:"#c18401","line-height":"26px"}},[t._v("document")]),t._v(".body.appendChild(oDiv);\n"),o("span")])]),t._v(" "),o("p",{staticStyle:{"font-size":"16px","padding-top":"8px","padding-bottom":"8px",margin:"0","line-height":"26px",color:"black"},attrs:{"data-tool":"mdnice编辑器"}},[t._v("但是，在Vue中操作DOM是非常不推荐的写法，这时候我们建议使用"),o("code",{staticStyle:{"font-size":"14px","word-wrap":"break-word",padding:"2px 4px","border-radius":"4px",margin:"0 2px","background-color":"rgba(27,31,35,.05)","font-family":"Operator Mono, Consolas, Monaco, Menlo, monospace","word-break":"break-all",color:"rgb(239, 112, 96)"}},[t._v("Vue.extend")]),t._v("来实现DOM的操作。")]),t._v(" "),o("pre",{staticClass:"custom",staticStyle:{"margin-top":"10px","margin-bottom":"10px"},attrs:{"data-tool":"mdnice编辑器"}},[o("code",{staticClass:"hljs",staticStyle:{"overflow-x":"auto",padding:"16px",color:"#383a42",background:"#fafafa",display:"-webkit-box","font-family":"Operator Mono, Consolas, Monaco, Menlo, monospace","border-radius":"0px","font-size":"12px","-webkit-overflow-scrolling":"touch"}},[t._v("      const Constructor = Vue.extend(Toast);\n      let oDiv = new Constructor();\n      oDiv.$slots.default = [message];\n      oDiv.$mount(); //必须使用$mount()进行挂载，否则所有的生命周期的函数都不会执行\n      document.body.appendChild(oDiv.$el)\n")])]),t._v(" "),o("h2",{staticStyle:{"margin-top":"30px","margin-bottom":"15px",padding:"0px","font-weight":"bold",color:"black","border-bottom":"2px solid rgb(239, 112, 96)","font-size":"1.3em"},attrs:{"data-tool":"mdnice编辑器"}},[o("span",{staticClass:"prefix",staticStyle:{display:"none"}}),o("span",{staticClass:"content",staticStyle:{display:"inline-block","font-weight":"bold",background:"rgb(239, 112, 96)",color:"#ffffff",padding:"3px 10px 1px","border-top-right-radius":"3px","border-top-left-radius":"3px","margin-right":"3px"}},[t._v("总结：")]),o("span",{staticClass:"suffix"}),o("span",{staticStyle:{display:"inline-block","vertical-align":"bottom","border-bottom":"36px solid #efebe9","border-right":"20px solid transparent"}})]),t._v(" "),o("p",{staticStyle:{"font-size":"16px","padding-top":"8px","padding-bottom":"8px",margin:"0","line-height":"26px",color:"black"},attrs:{"data-tool":"mdnice编辑器"}},[o("code",{staticStyle:{"font-size":"14px","word-wrap":"break-word",padding:"2px 4px","border-radius":"4px",margin:"0 2px","background-color":"rgba(27,31,35,.05)","font-family":"Operator Mono, Consolas, Monaco, Menlo, monospace","word-break":"break-all",color:"rgb(239, 112, 96)"}},[t._v("Vue.extend")]),t._v("可以用于动态地创建实例，在一些场景下可以使用。")]),t._v(" "),o("p",{staticClass:"nice-suffix-juejin-container",staticStyle:{"font-size":"16px","padding-top":"8px","padding-bottom":"8px",margin:"0","line-height":"26px",color:"black","margin-top":"20px !important"},attrs:{id:"nice-suffix-juejin-container","data-tool":"mdnice编辑器"}},[t._v("本文使用 "),o("a",{staticStyle:{"text-decoration":"none","word-wrap":"break-word","font-weight":"bold",color:"rgb(239, 112, 96)","border-bottom":"1px solid rgb(239, 112, 96)"},attrs:{href:"https://mdnice.com"}},[t._v("mdnice")]),t._v(" 排版")])])])}),[],!1,null,null,null);a.default=i.exports}}]);