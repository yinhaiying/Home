<section id="nice" data-tool="mdnice编辑器" data-website="https://www.mdnice.com" style="font-size: 16px; color: black; padding: 0 10px; line-height: 1.6; word-spacing: 0px; letter-spacing: 0px; word-break: break-word; word-wrap: break-word; text-align: left; font-family: Optima-Regular, Optima, PingFangSC-light, PingFangTC-light, 'PingFang SC', Cambria, Cochin, Georgia, Times, 'Times New Roman', serif; margin-top: -10px;"><h1 data-tool="mdnice编辑器" style="margin-top: 70px; margin-bottom: 15px; padding: 0px; font-weight: bold; color: black; font-size: 24px;"><span class="prefix" style="display: none;"></span><span class="content">由浅及深认识JSX</span><span class="suffix"></span></h1>
<blockquote data-tool="mdnice编辑器" style="display: block; font-size: 0.9em; overflow: auto; overflow-scrolling: touch; border-left: 3px solid rgba(0, 0, 0, 0.4); color: #6a737d; padding-top: 10px; padding-bottom: 10px; padding-left: 20px; padding-right: 10px; margin-bottom: 20px; margin-top: 20px; border-left-color: rgb(239, 112, 96); background: #fff9f9;">
<p style="font-size: 16px; padding-top: 8px; padding-bottom: 8px; margin: 0px; color: black; line-height: 26px;">在学习React的过程中，可能大家最不能适应的就是它的JSX语法，尤其是对于习惯了使用Vue的新手来说，一直被洗脑表现和逻辑层分离，习惯了HTML结构和JS语法进行分离。但是，在React中，JSX语法就是在JS中使用HTML，大家写起来一直懵懵懂懂，到底是写的是HTML了，还是JS了;有些地方明明在HTML中可以这样使用的，为什么报错了；JSX到底是一种模板语言，还是只是JS的语法糖了。这些问题都一直困扰着我们，因此，作为一个初学者，在学习React的过程中希望能够更好地帮助大家了解JSX，解决这些困扰。作为初学者，可能存在不少理解错误的地方，欢迎大家指正。</p>
</blockquote>
<h2 data-tool="mdnice编辑器" style="margin-top: 30px; margin-bottom: 15px; padding: 0px; font-weight: bold; color: black; border-bottom: 2px solid rgb(239, 112, 96); font-size: 1.3em;"><span class="prefix" style="display: none;"></span><span class="content" style="display: inline-block; font-weight: bold; background: rgb(239, 112, 96); color: #ffffff; padding: 3px 10px 1px; border-top-right-radius: 3px; border-top-left-radius: 3px; margin-right: 3px;">从一个小的需求出发</span><span class="suffix"></span><span style="display: inline-block; vertical-align: bottom; border-bottom: 36px solid #efebe9; border-right: 20px solid transparent;"> </span></h2>
<p data-tool="mdnice编辑器" style="font-size: 16px; padding-top: 8px; padding-bottom: 8px; margin: 0; line-height: 26px; color: black;">假设在不使用任何框架的情况下(不适用Vue和Jquery等)，我们需要实现一个这样的需求：
写一个原生的组件，这个组件很简单就是一个div，里面是一个p标签，p标签中是一个span标签，span标签的内容为：'hello,react'。功能就是封装一个这样很简单的组件，我们用原生的代码实现应该如下：</p>
<pre class="custom" data-tool="mdnice编辑器" style="margin-top: 10px; margin-bottom: 10px;"><code class="hljs" style="overflow-x: auto; padding: 16px; color: #383a42; background: #fafafa; display: block; font-family: Operator Mono, Consolas, Monaco, Menlo, monospace; border-radius: 0px; font-size: 12px; -webkit-overflow-scrolling: touch;"><span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">const</span> oDiv = <span class="hljs-built_in" style="color: #c18401; line-height: 26px;">document</span>.createElement(<span class="hljs-string" style="color: #50a14f; line-height: 26px;">'div'</span>);
<span/><span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">const</span> oP = <span class="hljs-built_in" style="color: #c18401; line-height: 26px;">document</span>.createElement(<span class="hljs-string" style="color: #50a14f; line-height: 26px;">'p'</span>);
<span/><span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">const</span> oSpan = <span class="hljs-built_in" style="color: #c18401; line-height: 26px;">document</span>.createElement(<span class="hljs-string" style="color: #50a14f; line-height: 26px;">'span'</span>);
<span/>oSpan.innerText = <span class="hljs-string" style="color: #50a14f; line-height: 26px;">"Hello,React"</span>;
<span/>oP.appendChild(oSpan);
<span/>oDiv.appendChild(oP);
<span/><span class="hljs-built_in" style="color: #c18401; line-height: 26px;">document</span>.body.appendChild(oDiv);
<span/></code></pre>
<p data-tool="mdnice编辑器" style="font-size: 16px; padding-top: 8px; padding-bottom: 8px; margin: 0; line-height: 26px; color: black;">从上面的代码中，我们可以看到：我们连续使用createElement创建了div,p和span标签。然后，又使用appendChild连续插入了三次。代码的实现很简单，但是我们感觉是不是有很多重复的动作，我们是不是可以使用一个函数来进行封装一下，将创建和添加封装起来，具体的实现如下：</p>
<pre class="custom" data-tool="mdnice编辑器" style="margin-top: 10px; margin-bottom: 10px;"><code class="hljs" style="overflow-x: auto; padding: 16px; color: #383a42; background: #fafafa; display: block; font-family: Operator Mono, Consolas, Monaco, Menlo, monospace; border-radius: 0px; font-size: 12px; -webkit-overflow-scrolling: touch;"><span class="hljs-function" style="line-height: 26px;"><span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">function</span> <span class="hljs-title" style="color: #4078f2; line-height: 26px;">createElement</span>(<span class="hljs-params" style="line-height: 26px;">tagName,children</span>)</span>{
<span/>  <span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">let</span> element = <span class="hljs-built_in" style="color: #c18401; line-height: 26px;">document</span>.createElement(tagName);
<span/>  <span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">if</span>(children){
<span/>    <span class="hljs-comment" style="color: #a0a1a7; font-style: italic; line-height: 26px;">// 判断是不是文本 appendChild不支持直接添加文本</span>
<span/>    <span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">if</span>(<span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">typeof</span> children === <span class="hljs-string" style="color: #50a14f; line-height: 26px;">'string'</span>){
<span/>        <span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">const</span> childElement = <span class="hljs-built_in" style="color: #c18401; line-height: 26px;">document</span>.createTextNode(children);
<span/>        element.appendChild(childElement);
<span/>    }<span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">else</span>{
<span/>        element.appendChild(children);
<span/>    }
<span/>  }
<span/>  <span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">return</span> element;
<span/>}
<span/></code></pre>
<p data-tool="mdnice编辑器" style="font-size: 16px; padding-top: 8px; padding-bottom: 8px; margin: 0; line-height: 26px; color: black;">我们封装了一个createElement方法，接收两个参数tagName和children。那么上面的代码就可以简化成:</p>
<pre class="custom" data-tool="mdnice编辑器" style="margin-top: 10px; margin-bottom: 10px;"><code class="hljs" style="overflow-x: auto; padding: 16px; color: #383a42; background: #fafafa; display: block; font-family: Operator Mono, Consolas, Monaco, Menlo, monospace; border-radius: 0px; font-size: 12px; -webkit-overflow-scrolling: touch;"><span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">const</span> oDiv = createElement(<span class="hljs-string" style="color: #50a14f; line-height: 26px;">'div'</span>,
<span/>                createElement(<span class="hljs-string" style="color: #50a14f; line-height: 26px;">'p'</span>,
<span/>                  createElement(<span class="hljs-string" style="color: #50a14f; line-height: 26px;">'span'</span>,<span class="hljs-string" style="color: #50a14f; line-height: 26px;">'hello,react'</span>)));  
<span/><span class="hljs-built_in" style="color: #c18401; line-height: 26px;">document</span>.body.appendChild(oDiv);
<span/></code></pre>
<p data-tool="mdnice编辑器" style="font-size: 16px; padding-top: 8px; padding-bottom: 8px; margin: 0; line-height: 26px; color: black;">上面代码的逻辑就是：通过createElement方法创建一个div元素，他的子元素是p元素,p元素又可需要通过createElement创建，p元素的子元素是span,span元素也可以通过createElement创建，直到没有子元素。从上面我们可以看出，通过封装一个简单的createElement方法，我们就极大地简化了多个元素的创建过程。在前端开发过程中，不就是在不断地组合各种元素来实现整个页面的拼装吗?也就是说，我们可以在开发的过程中，在任何地方，通过createElement来创建一个个的HTML元素，然后拼接成一个页面。</p>
<h2 data-tool="mdnice编辑器" style="margin-top: 30px; margin-bottom: 15px; padding: 0px; font-weight: bold; color: black; border-bottom: 2px solid rgb(239, 112, 96); font-size: 1.3em;"><span class="prefix" style="display: none;"></span><span class="content" style="display: inline-block; font-weight: bold; background: rgb(239, 112, 96); color: #ffffff; padding: 3px 10px 1px; border-top-right-radius: 3px; border-top-left-radius: 3px; margin-right: 3px;">JSX的引入</span><span class="suffix"></span><span style="display: inline-block; vertical-align: bottom; border-bottom: 36px solid #efebe9; border-right: 20px solid transparent;"> </span></h2>
<p data-tool="mdnice编辑器" style="font-size: 16px; padding-top: 8px; padding-bottom: 8px; margin: 0; line-height: 26px; color: black;">从上面的分析知道，我们可以通过使用createElement来创建一个个的HTML元素，然后拼接成一个页面。但是一个页面通常是很复杂的，一个页面中各种元素的嵌套，我们需要不断地嵌套createElement方法，这肯定是会导致代码的可读性下降。因此，我们希望能够使用一种简单的方法来实现这个过程。我们再次观察上面代码的结构：</p>
<pre class="custom" data-tool="mdnice编辑器" style="margin-top: 10px; margin-bottom: 10px;"><code class="hljs" style="overflow-x: auto; padding: 16px; color: #383a42; background: #fafafa; display: block; font-family: Operator Mono, Consolas, Monaco, Menlo, monospace; border-radius: 0px; font-size: 12px; -webkit-overflow-scrolling: touch;"><span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">const</span> oDiv = createElement(<span class="hljs-string" style="color: #50a14f; line-height: 26px;">'div'</span>,
<span/>                createElement(<span class="hljs-string" style="color: #50a14f; line-height: 26px;">'p'</span>,
<span/>                  createElement(<span class="hljs-string" style="color: #50a14f; line-height: 26px;">'span'</span>,<span class="hljs-string" style="color: #50a14f; line-height: 26px;">'hello,react'</span>))); 
<span/></code></pre>
<p data-tool="mdnice编辑器" style="font-size: 16px; padding-top: 8px; padding-bottom: 8px; margin: 0; line-height: 26px; color: black;">我们再类比一下HTML中的结构：</p>
<pre class="custom" data-tool="mdnice编辑器" style="margin-top: 10px; margin-bottom: 10px;"><code class="hljs" style="overflow-x: auto; padding: 16px; color: #383a42; background: #fafafa; display: block; font-family: Operator Mono, Consolas, Monaco, Menlo, monospace; border-radius: 0px; font-size: 12px; -webkit-overflow-scrolling: touch;"><span class="hljs-tag" style="line-height: 26px;">&lt;<span class="hljs-name" style="color: #e45649; line-height: 26px;">div</span>&gt;</span>
<span/>  <span class="hljs-tag" style="line-height: 26px;">&lt;<span class="hljs-name" style="color: #e45649; line-height: 26px;">p</span>&gt;</span>
<span/>    <span class="hljs-tag" style="line-height: 26px;">&lt;<span class="hljs-name" style="color: #e45649; line-height: 26px;">span</span>&gt;</span>hello,react<span class="hljs-tag" style="line-height: 26px;">&lt;/<span class="hljs-name" style="color: #e45649; line-height: 26px;">span</span>&gt;</span>  
<span/>  <span class="hljs-tag" style="line-height: 26px;">&lt;/<span class="hljs-name" style="color: #e45649; line-height: 26px;">p</span>&gt;</span>
<span/><span class="hljs-tag" style="line-height: 26px;">&lt;/<span class="hljs-name" style="color: #e45649; line-height: 26px;">div</span>&gt;</span> 
<span/></code></pre>
<p data-tool="mdnice编辑器" style="font-size: 16px; padding-top: 8px; padding-bottom: 8px; margin: 0; line-height: 26px; color: black;">大家有没有发现他们的结构非常类似啊。那么我们可不可以直接用下面的方法，来简化上面的写法了，比如写成这样：</p>
<pre class="custom" data-tool="mdnice编辑器" style="margin-top: 10px; margin-bottom: 10px;"><code class="hljs" style="overflow-x: auto; padding: 16px; color: #383a42; background: #fafafa; display: block; font-family: Operator Mono, Consolas, Monaco, Menlo, monospace; border-radius: 0px; font-size: 12px; -webkit-overflow-scrolling: touch;"><span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">const</span> Div = (
<span/>  <span class="xml" style="line-height: 26px;"><span class="hljs-tag" style="line-height: 26px;">&lt;<span class="hljs-name" style="color: #e45649; line-height: 26px;">div</span>&gt;</span>
<span/>    <span class="hljs-tag" style="line-height: 26px;">&lt;<span class="hljs-name" style="color: #e45649; line-height: 26px;">p</span>&gt;</span>
<span/>      <span class="hljs-tag" style="line-height: 26px;">&lt;<span class="hljs-name" style="color: #e45649; line-height: 26px;">span</span>&gt;</span>hello,react<span class="hljs-tag" style="line-height: 26px;">&lt;/<span class="hljs-name" style="color: #e45649; line-height: 26px;">span</span>&gt;</span>  
<span/>    <span class="hljs-tag" style="line-height: 26px;">&lt;/<span class="hljs-name" style="color: #e45649; line-height: 26px;">p</span>&gt;</span>
<span/>  <span class="hljs-tag" style="line-height: 26px;">&lt;/<span class="hljs-name" style="color: #e45649; line-height: 26px;">div</span>&gt;</span></span> 
<span/>)
<span/></code></pre>
<p data-tool="mdnice编辑器" style="font-size: 16px; padding-top: 8px; padding-bottom: 8px; margin: 0; line-height: 26px; color: black;">这样的话，既简化了代码，又增加了可读性，所有人看到这个Div，就知道它内部是什么样了。这就是所谓的JSX写法了。在JS中写HTML，你觉得自己是在写标签，实际上你是在写createElement这些JS方法。而React使用JSX语法就是内置了createElement方法，而且JS很明显也不支持这种语法的，因此React内部也内置了babel进行语法转义。</p>
<h2 data-tool="mdnice编辑器" style="margin-top: 30px; margin-bottom: 15px; padding: 0px; font-weight: bold; color: black; border-bottom: 2px solid rgb(239, 112, 96); font-size: 1.3em;"><span class="prefix" style="display: none;"></span><span class="content" style="display: inline-block; font-weight: bold; background: rgb(239, 112, 96); color: #ffffff; padding: 3px 10px 1px; border-top-right-radius: 3px; border-top-left-radius: 3px; margin-right: 3px;">React.createElement实现</span><span class="suffix"></span><span style="display: inline-block; vertical-align: bottom; border-bottom: 36px solid #efebe9; border-right: 20px solid transparent;"> </span></h2>
<p data-tool="mdnice编辑器" style="font-size: 16px; padding-top: 8px; padding-bottom: 8px; margin: 0; line-height: 26px; color: black;">接下来我们就使用React来实现上述功能：</p>
<pre class="custom" data-tool="mdnice编辑器" style="margin-top: 10px; margin-bottom: 10px;"><code class="hljs" style="overflow-x: auto; padding: 16px; color: #383a42; background: #fafafa; display: block; font-family: Operator Mono, Consolas, Monaco, Menlo, monospace; border-radius: 0px; font-size: 12px; -webkit-overflow-scrolling: touch;"><span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">import</span> React <span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">from</span> <span class="hljs-string" style="color: #50a14f; line-height: 26px;">'react'</span>;
<span/><span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">const</span> Div = (
<span/>  React.createElement(<span class="hljs-string" style="color: #50a14f; line-height: 26px;">'div'</span>,<span class="hljs-literal" style="color: #0184bb; line-height: 26px;">null</span>,
<span/>    React.createElement(<span class="hljs-string" style="color: #50a14f; line-height: 26px;">'p'</span>,<span class="hljs-literal" style="color: #0184bb; line-height: 26px;">null</span>,
<span/>      React.createElement(<span class="hljs-string" style="color: #50a14f; line-height: 26px;">'span'</span>,<span class="hljs-literal" style="color: #0184bb; line-height: 26px;">null</span>,<span class="hljs-string" style="color: #50a14f; line-height: 26px;">'hello,react'</span>)))
<span/>); 
<span/><span class="hljs-built_in" style="color: #c18401; line-height: 26px;">console</span>.log(div);
<span/><span class="hljs-built_in" style="color: #c18401; line-height: 26px;">document</span>.appendChild(Div); <span class="hljs-comment" style="color: #a0a1a7; font-style: italic; line-height: 26px;">// TypeError: Failed to execute 'appendChild' on 'Node': parameter 1 is not of type 'Node'.</span>
<span/></code></pre>
<p data-tool="mdnice编辑器" style="font-size: 16px; padding-top: 8px; padding-bottom: 8px; margin: 0; line-height: 26px; color: black;">我们使用React.createElement方法来实现相同的功能，会发现在添加到body时出现报错了。提示Div不是一个节点类型。嗯？我们明明创建的是一个div元素啊，为什么不是节点了，我们打印一下，创建后的div。</p>
<pre class="custom" data-tool="mdnice编辑器" style="margin-top: 10px; margin-bottom: 10px;"><code class="hljs" style="overflow-x: auto; padding: 16px; color: #383a42; background: #fafafa; display: block; font-family: Operator Mono, Consolas, Monaco, Menlo, monospace; border-radius: 0px; font-size: 12px; -webkit-overflow-scrolling: touch;">{<span class="hljs-attr" style="color: #986801; line-height: 26px;">$typeof</span>: <span class="hljs-built_in" style="color: #c18401; line-height: 26px;">Symbol</span>(react.element), <span class="hljs-attr" style="color: #986801; line-height: 26px;">type</span>: <span class="hljs-string" style="color: #50a14f; line-height: 26px;">"div"</span>, <span class="hljs-attr" style="color: #986801; line-height: 26px;">key</span>: <span class="hljs-literal" style="color: #0184bb; line-height: 26px;">null</span>, <span class="hljs-attr" style="color: #986801; line-height: 26px;">ref</span>: <span class="hljs-literal" style="color: #0184bb; line-height: 26px;">null</span>, <span class="hljs-attr" style="color: #986801; line-height: 26px;">props</span>: {…}, …}
<span/>props: {<span class="hljs-attr" style="color: #986801; line-height: 26px;">children</span>: {…}}
<span/>ref: <span class="hljs-literal" style="color: #0184bb; line-height: 26px;">null</span>
<span/>type: <span class="hljs-string" style="color: #50a14f; line-height: 26px;">"div"</span>
<span/></code></pre>
<p data-tool="mdnice编辑器" style="font-size: 16px; padding-top: 8px; padding-bottom: 8px; margin: 0; line-height: 26px; color: black;">我们发现得到的是一个JS对象，它里面提到了type:div。然后子元素中又是type:p。然后还有type:span。我们发现这个对象好像是在描述我们的DOM结构。这就是React的另外一个核心功能：虚拟DOM。我们都知道如果大面积地通过createElement去创建DOM，操作DOM，性能会是一个很大的问题，所以React实现了一个Virtual DOM，组件DOM结构就是映射到这个 Virtual DOM 上，React 在这个 Virtual DOM 上实现了一个 diff 算法，当要重新渲染组件的时候，会通过 diff 寻找到要变更的 DOM 节点，再把这个修改更新到浏览器实际的 DOM 节点上，所以实际上不是真的渲染整个 DOM 树。这个 Virtual DOM 是一个纯粹的 JS 数据结构，所以性能会比原生 DOM 快很多。<strong style="font-weight: bold; color: black;">总而言之，React.createElement为了节省性能，通过createElement创建的是一个虚拟DOM，无法通过appendChild添加到真实的DOM身上。</strong>，那么应该如何将虚拟DOM添加到真实的DOM结构了。这就需要用到ReactDom了。</p>
<h2 data-tool="mdnice编辑器" style="margin-top: 30px; margin-bottom: 15px; padding: 0px; font-weight: bold; color: black; border-bottom: 2px solid rgb(239, 112, 96); font-size: 1.3em;"><span class="prefix" style="display: none;"></span><span class="content" style="display: inline-block; font-weight: bold; background: rgb(239, 112, 96); color: #ffffff; padding: 3px 10px 1px; border-top-right-radius: 3px; border-top-left-radius: 3px; margin-right: 3px;">ReactDOM</span><span class="suffix"></span><span style="display: inline-block; vertical-align: bottom; border-bottom: 36px solid #efebe9; border-right: 20px solid transparent;"> </span></h2>
<p data-tool="mdnice编辑器" style="font-size: 16px; padding-top: 8px; padding-bottom: 8px; margin: 0; line-height: 26px; color: black;">为了让虚拟dom渲染到真实的DOM结构，react提供了react-dom。通过调用它的render方法可以实现将虚拟DOM渲染到DOM身上。因此，最终的代码如下：</p>
<pre class="custom" data-tool="mdnice编辑器" style="margin-top: 10px; margin-bottom: 10px;"><code class="hljs" style="overflow-x: auto; padding: 16px; color: #383a42; background: #fafafa; display: block; font-family: Operator Mono, Consolas, Monaco, Menlo, monospace; border-radius: 0px; font-size: 12px; -webkit-overflow-scrolling: touch;"><span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">import</span> React <span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">from</span> <span class="hljs-string" style="color: #50a14f; line-height: 26px;">'react'</span>;
<span/><span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">import</span> ReactDom <span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">from</span> <span class="hljs-string" style="color: #50a14f; line-height: 26px;">'react-dom'</span>;
<span/>
<span/><span class="hljs-comment" style="color: #a0a1a7; font-style: italic; line-height: 26px;">// React创建元素</span>
<span/><span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">const</span> Div = (
<span/>  React.createElement(<span class="hljs-string" style="color: #50a14f; line-height: 26px;">'div'</span>,<span class="hljs-literal" style="color: #0184bb; line-height: 26px;">null</span>,
<span/>    React.createElement(<span class="hljs-string" style="color: #50a14f; line-height: 26px;">'p'</span>,<span class="hljs-literal" style="color: #0184bb; line-height: 26px;">null</span>,
<span/>      React.createElement(<span class="hljs-string" style="color: #50a14f; line-height: 26px;">'span'</span>,<span class="hljs-literal" style="color: #0184bb; line-height: 26px;">null</span>,<span class="hljs-string" style="color: #50a14f; line-height: 26px;">'hello,react'</span>)))
<span/>); 
<span/><span class="hljs-comment" style="color: #a0a1a7; font-style: italic; line-height: 26px;">// ReactDom渲染元素</span>
<span/>ReactDom.render(div,<span class="hljs-built_in" style="color: #c18401; line-height: 26px;">document</span>.getElementById(<span class="hljs-string" style="color: #50a14f; line-height: 26px;">'root'</span>));
<span/></code></pre>
<p data-tool="mdnice编辑器" style="font-size: 16px; padding-top: 8px; padding-bottom: 8px; margin: 0; line-height: 26px; color: black;">上面，我们进一步使用JSX语法来优化上述代码：</p>
<pre class="custom" data-tool="mdnice编辑器" style="margin-top: 10px; margin-bottom: 10px;"><code class="hljs" style="overflow-x: auto; padding: 16px; color: #383a42; background: #fafafa; display: block; font-family: Operator Mono, Consolas, Monaco, Menlo, monospace; border-radius: 0px; font-size: 12px; -webkit-overflow-scrolling: touch;"><span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">import</span> React <span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">from</span> <span class="hljs-string" style="color: #50a14f; line-height: 26px;">'react'</span>;
<span/><span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">import</span> ReactDom <span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">from</span> <span class="hljs-string" style="color: #50a14f; line-height: 26px;">'react-dom'</span>;
<span/><span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">const</span> Div = (
<span/>  <span class="xml" style="line-height: 26px;"><span class="hljs-tag" style="line-height: 26px;">&lt;<span class="hljs-name" style="color: #e45649; line-height: 26px;">div</span>&gt;</span>
<span/>    <span class="hljs-tag" style="line-height: 26px;">&lt;<span class="hljs-name" style="color: #e45649; line-height: 26px;">p</span>&gt;</span>
<span/>      <span class="hljs-tag" style="line-height: 26px;">&lt;<span class="hljs-name" style="color: #e45649; line-height: 26px;">span</span>&gt;</span>hello,react<span class="hljs-tag" style="line-height: 26px;">&lt;/<span class="hljs-name" style="color: #e45649; line-height: 26px;">span</span>&gt;</span>  
<span/>    <span class="hljs-tag" style="line-height: 26px;">&lt;/<span class="hljs-name" style="color: #e45649; line-height: 26px;">p</span>&gt;</span>
<span/>  <span class="hljs-tag" style="line-height: 26px;">&lt;/<span class="hljs-name" style="color: #e45649; line-height: 26px;">div</span>&gt;</span></span> 
<span/>)
<span/>ReactDom.render(div,<span class="hljs-built_in" style="color: #c18401; line-height: 26px;">document</span>.getElementById(<span class="hljs-string" style="color: #50a14f; line-height: 26px;">'root'</span>));
<span/></code></pre>
<p data-tool="mdnice编辑器" style="font-size: 16px; padding-top: 8px; padding-bottom: 8px; margin: 0; line-height: 26px; color: black;">最终实现的效果一样。</p>
<h2 data-tool="mdnice编辑器" style="margin-top: 30px; margin-bottom: 15px; padding: 0px; font-weight: bold; color: black; border-bottom: 2px solid rgb(239, 112, 96); font-size: 1.3em;"><span class="prefix" style="display: none;"></span><span class="content" style="display: inline-block; font-weight: bold; background: rgb(239, 112, 96); color: #ffffff; padding: 3px 10px 1px; border-top-right-radius: 3px; border-top-left-radius: 3px; margin-right: 3px;">进一步证明</span><span class="suffix"></span><span style="display: inline-block; vertical-align: bottom; border-bottom: 36px solid #efebe9; border-right: 20px solid transparent;"> </span></h2>
<p data-tool="mdnice编辑器" style="font-size: 16px; padding-top: 8px; padding-bottom: 8px; margin: 0; line-height: 26px; color: black;">到目前为止，我们可以知道我们写的JSX语法实际上就是在写createElement方法。为了进一步证明这点，我们使用babel查看一下我们上面写的JSX语法，我们将下面这段代码放入babel中进行查看；<br>
babel转化前：</p>
<pre class="custom" data-tool="mdnice编辑器" style="margin-top: 10px; margin-bottom: 10px;"><code class="hljs" style="overflow-x: auto; padding: 16px; color: #383a42; background: #fafafa; display: block; font-family: Operator Mono, Consolas, Monaco, Menlo, monospace; border-radius: 0px; font-size: 12px; -webkit-overflow-scrolling: touch;"><span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">import</span> React <span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">from</span> <span class="hljs-string" style="color: #50a14f; line-height: 26px;">'react'</span>
<span/><span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">const</span> Div = (
<span/>  <span class="xml" style="line-height: 26px;"><span class="hljs-tag" style="line-height: 26px;">&lt;<span class="hljs-name" style="color: #e45649; line-height: 26px;">div</span>&gt;</span>
<span/>    <span class="hljs-tag" style="line-height: 26px;">&lt;<span class="hljs-name" style="color: #e45649; line-height: 26px;">p</span>&gt;</span>
<span/>      <span class="hljs-tag" style="line-height: 26px;">&lt;<span class="hljs-name" style="color: #e45649; line-height: 26px;">span</span>&gt;</span>hello,react<span class="hljs-tag" style="line-height: 26px;">&lt;/<span class="hljs-name" style="color: #e45649; line-height: 26px;">span</span>&gt;</span>  
<span/>    <span class="hljs-tag" style="line-height: 26px;">&lt;/<span class="hljs-name" style="color: #e45649; line-height: 26px;">p</span>&gt;</span>
<span/>  <span class="hljs-tag" style="line-height: 26px;">&lt;/<span class="hljs-name" style="color: #e45649; line-height: 26px;">div</span>&gt;</span></span> 
<span/>)
<span/></code></pre>
<br data-tool="mdnice编辑器">
babel转化后：
<pre class="custom" data-tool="mdnice编辑器" style="margin-top: 10px; margin-bottom: 10px;"><code class="hljs" style="overflow-x: auto; padding: 16px; color: #383a42; background: #fafafa; display: block; font-family: Operator Mono, Consolas, Monaco, Menlo, monospace; border-radius: 0px; font-size: 12px; -webkit-overflow-scrolling: touch;"><span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">var</span> _react = _interopRequireDefault(<span class="hljs-built_in" style="color: #c18401; line-height: 26px;">require</span>(<span class="hljs-string" style="color: #50a14f; line-height: 26px;">"react"</span>));
<span/><span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">var</span> Div = _react.default.createElement(<span class="hljs-string" style="color: #50a14f; line-height: 26px;">"div"</span>, <span class="hljs-literal" style="color: #0184bb; line-height: 26px;">null</span>, _react.default.createElement(<span class="hljs-string" style="color: #50a14f; line-height: 26px;">"p"</span>, <span class="hljs-literal" style="color: #0184bb; line-height: 26px;">null</span>,_react.default.createElement(<span class="hljs-string" style="color: #50a14f; line-height: 26px;">"span"</span>, <span class="hljs-literal" style="color: #0184bb; line-height: 26px;">null</span>, <span class="hljs-string" style="color: #50a14f; line-height: 26px;">"hello,react"</span>)));
<span/></code></pre>
<p data-tool="mdnice编辑器" style="font-size: 16px; padding-top: 8px; padding-bottom: 8px; margin: 0; line-height: 26px; color: black;">我们发现实际上就是在调用react.default.createElement方法来创建元素。这进一步证明我们的结论：JSX不是新的语法，它只是createElement的语法糖。</p>
<h2 data-tool="mdnice编辑器" style="margin-top: 30px; margin-bottom: 15px; padding: 0px; font-weight: bold; color: black; border-bottom: 2px solid rgb(239, 112, 96); font-size: 1.3em;"><span class="prefix" style="display: none;"></span><span class="content" style="display: inline-block; font-weight: bold; background: rgb(239, 112, 96); color: #ffffff; padding: 3px 10px 1px; border-top-right-radius: 3px; border-top-left-radius: 3px; margin-right: 3px;">总结</span><span class="suffix"></span><span style="display: inline-block; vertical-align: bottom; border-bottom: 36px solid #efebe9; border-right: 20px solid transparent;"> </span></h2>
<p data-tool="mdnice编辑器" style="font-size: 16px; padding-top: 8px; padding-bottom: 8px; margin: 0; line-height: 26px; color: black;">在本文中，我们从一个简单的创建div元素出发，引入了JSX语法。通过本文的叙述，我们可以知道：</p>
<ol data-tool="mdnice编辑器" style="margin-top: 8px; margin-bottom: 8px; padding-left: 25px; color: black; list-style-type: decimal;">
<li><section style="margin-top: 5px; margin-bottom: 5px; line-height: 26px; text-align: left; color: rgb(1,1,1); font-weight: 500;">jxs语法不是新的模板语言，它只是createElement的语法糖。</section></li><li><section style="margin-top: 5px; margin-bottom: 5px; line-height: 26px; text-align: left; color: rgb(1,1,1); font-weight: 500;">React提供了createElement方法，因此使用了JSX的地方必须引入React。</section></li><li><section style="margin-top: 5px; margin-bottom: 5px; line-height: 26px; text-align: left; color: rgb(1,1,1); font-weight: 500;">React创建的是一个虚拟DOM，需要通过ReactDom将其渲染到页面中。</section></li></ol>
<p id="nice-suffix-juejin-container" class="nice-suffix-juejin-container" data-tool="mdnice编辑器" style="font-size: 16px; padding-top: 8px; padding-bottom: 8px; margin: 0; line-height: 26px; color: black; margin-top: 20px !important;">本文使用 <a href="https://mdnice.com" style="text-decoration: none; word-wrap: break-word; font-weight: bold; color: rgb(239, 112, 96); border-bottom: 1px solid rgb(239, 112, 96);">mdnice</a> 排版</p></section>






